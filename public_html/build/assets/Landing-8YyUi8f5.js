import{c as xe,a as he,r as K,j as t,b as se,H as ue,L as ae}from"./app-K_vB3ogy.js";import{A as fe}from"./app-layout-B_PQqLGg.js";import{P as pe}from"./public-header-CYf1KJqm.js";import{L as ge}from"./list-controls-DOK3v770.js";/* empty css            */import"./button-LQp4KWKv.js";import"./index-DyqWmFFX.js";import"./index-Bp4ylXgj.js";import"./index-BDqSilVs.js";function Ce(s){const e=xe.c(65),{events:l}=s;he();const a=typeof window<"u"?new URLSearchParams(window.location.search):null;a?.get("sort");const le=a?.get("q")??"",[n,ne]=K.useState(le),L=K.useRef(null),ee=K.useRef(!0);let R,W;e[0]!==n?(R=()=>{if(ee.current){ee.current=!1;return}return L.current&&clearTimeout(L.current),L.current=window.setTimeout(()=>{const r=new URLSearchParams(window.location.search);n?r.set("q",n):r.delete("q"),se.get(`${window.location.pathname}${r.toString()?`?${r.toString()}`:""}`)},300),()=>{L.current&&clearTimeout(L.current)}},W=[n],e[0]=n,e[1]=R,e[2]=W):(R=e[1],W=e[2]),K.useEffect(R,W);let E;e[3]===Symbol.for("react.memo_cache_sentinel")?(E=function(G){if(typeof window>"u")return;const k=new URLSearchParams(window.location.search),te=k.get("sort")??"";let C;te===`${G}_asc`?C=`${G}_desc`:te===`${G}_desc`?C="":C=`${G}_asc`,C===""?k.delete("sort"):k.set("sort",C),k.delete("page"),se.get(`${window.location.pathname}${k.toString()?`?${k.toString()}`:""}`)},e[3]=E):E=e[3];const P=E,Q=fe;let c,i;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs(ue,{children:[t.jsx("title",{children:"Welcome to Events"}),t.jsx("meta",{name:"description",content:"Public landing page for guests"})]}),i=t.jsx(pe,{}),e[4]=c,e[5]=i):(c=e[4],i=e[5]);const re="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8",ce="mt-16",z=l?.links;let o;e[6]!==z?(o=t.jsx(ge,{path:"/",links:z,showSearch:!1,showSort:!1}),e[6]=z,e[7]=o):o=e[7];const ie="hidden md:grid md:grid-cols-12 gap-4 mb-2 text-sm";let T;e[8]===Symbol.for("react.memo_cache_sentinel")?(T=()=>P("title"),e[8]=T):T=e[8];const B=a?.get("sort")==="title_asc"?"ascending":a?.get("sort")==="title_desc"?"descending":"none",F=a?.get("sort")?.startsWith("title_")?a.get("sort")?.endsWith("_asc")?"▲":"▼":"";let d;e[9]!==F?(d=t.jsx("span",{className:"ml-1 text-xs",children:F}),e[9]=F,e[10]=d):d=e[10];let m;e[11]!==B||e[12]!==d?(m=t.jsxs("button",{onClick:T,className:"text-left bg-black text-white px-3 py-2 rounded cursor-pointer","aria-sort":B,children:["Event",d]}),e[11]=B,e[12]=d,e[13]=m):m=e[13];let H;e[14]===Symbol.for("react.memo_cache_sentinel")?(H=r=>ne(r.target.value),e[14]=H):H=e[14];let x;e[15]!==n?(x=t.jsx("div",{className:"ml-4",children:t.jsx("input",{value:n,onChange:H,placeholder:"Search events...",className:"w-96 md:w-[40rem] border-2 border-gray-800 px-3 py-1"})}),e[15]=n,e[16]=x):x=e[16];let h;e[17]!==m||e[18]!==x?(h=t.jsxs("div",{className:"md:col-span-9 flex items-center justify-between",children:[m,x]}),e[17]=m,e[18]=x,e[19]=h):h=e[19];let q;e[20]===Symbol.for("react.memo_cache_sentinel")?(q=()=>P("country"),e[20]=q):q=e[20];const J=a?.get("sort")==="country_asc"?"ascending":a?.get("sort")==="country_desc"?"descending":"none",O=a?.get("sort")?.startsWith("country_")?a.get("sort")?.endsWith("_asc")?"▲":"▼":"";let u;e[21]!==O?(u=t.jsx("span",{className:"ml-1 text-xs",children:O}),e[21]=O,e[22]=u):u=e[22];let f;e[23]!==J||e[24]!==u?(f=t.jsxs("button",{onClick:q,className:"md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded","aria-sort":J,children:["Country",u]}),e[23]=J,e[24]=u,e[25]=f):f=e[25];let I;e[26]===Symbol.for("react.memo_cache_sentinel")?(I=()=>P("city"),e[26]=I):I=e[26];const V=a?.get("sort")==="city_asc"?"ascending":a?.get("sort")==="city_desc"?"descending":"none",X=a?.get("sort")?.startsWith("city_")?a.get("sort")?.endsWith("_asc")?"▲":"▼":"";let p;e[27]!==X?(p=t.jsx("span",{className:"ml-1 text-xs",children:X}),e[27]=X,e[28]=p):p=e[28];let g;e[29]!==V||e[30]!==p?(g=t.jsxs("button",{onClick:I,className:"md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded","aria-sort":V,children:["City",p]}),e[29]=V,e[30]=p,e[31]=g):g=e[31];let _;e[32]===Symbol.for("react.memo_cache_sentinel")?(_=()=>P("start"),e[32]=_):_=e[32];const oe="md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded",Y=a?.get("sort")==="start_asc"?"ascending":a?.get("sort")==="start_desc"?"descending":"none",de="Start",me="ml-1 text-xs",Z=a?.get("sort")?.startsWith("start_")?a.get("sort")?.endsWith("_asc")?"▲":"▼":"";let j;e[33]!==Z?(j=t.jsx("span",{className:me,children:Z}),e[33]=Z,e[34]=j):j=e[34];let b;e[35]!==_||e[36]!==Y||e[37]!==j?(b=t.jsxs("button",{onClick:_,className:oe,"aria-sort":Y,children:[de,j]}),e[35]=_,e[36]=Y,e[37]=j,e[38]=b):b=e[38];let N;e[39]!==h||e[40]!==f||e[41]!==g||e[42]!==b?(N=t.jsxs("div",{className:ie,children:[h,f,g,b]}),e[39]=h,e[40]=f,e[41]=g,e[42]=b,e[43]=N):N=e[43];let y;e[44]!==l?(y=l?.data?.length?l.data.map(je):t.jsx("div",{className:"text-sm text-muted",children:"No public events available."}),e[44]=l,e[45]=y):y=e[45];let w;e[46]!==y?(w=t.jsx("div",{className:"space-y-3",children:y}),e[46]=y,e[47]=w):w=e[47];let S;e[48]!==l?(S=l?.links&&t.jsx("nav",{className:"mt-6 flex items-center justify-center gap-2",children:l.links.map(_e)}),e[48]=l,e[49]=S):S=e[49];let v;e[50]!==N||e[51]!==w||e[52]!==S||e[53]!==o?(v=t.jsxs("section",{className:ce,children:[o,N,w,S]}),e[50]=N,e[51]=w,e[52]=S,e[53]=o,e[54]=v):v=e[54];let M;e[55]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsxs("div",{className:"p-6 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Create Events"}),t.jsx("p",{className:"text-sm text-muted",children:"Quickly create events with images, locations and organisers."})]}),e[55]=M):M=e[55];let U;e[56]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsxs("div",{className:"p-6 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Manage Teams"}),t.jsx("p",{className:"text-sm text-muted",children:"Invite organisers and coordinate schedules and roles."})]}),e[56]=U):U=e[56];let A;e[57]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs("section",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[M,U,t.jsxs("div",{className:"p-6 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Stay Notified"}),t.jsx("p",{className:"text-sm text-muted",children:"Keep attendees informed with notifications and updates."})]})]}),e[57]=A):A=e[57];let $;e[58]!==v?($=t.jsxs("main",{className:re,children:[v,A]}),e[58]=v,e[59]=$):$=e[59];let D;return e[60]!==Q||e[61]!==c||e[62]!==$||e[63]!==i?(D=t.jsxs(Q,{children:[c,i,$]}),e[60]=Q,e[61]=c,e[62]=$,e[63]=i,e[64]=D):D=e[64],D}function _e(s,e){return s.url?t.jsx(ae,{href:s.url,className:`px-3 py-1 rounded ${s.active?"bg-gray-900 text-white":"bg-white border"}`,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},e):t.jsx("span",{className:"px-3 py-1 rounded text-muted",dangerouslySetInnerHTML:{__html:s.label}},e)}function je(s){return t.jsx("div",{className:"border rounded p-3",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[t.jsxs("div",{className:"md:col-span-9 flex items-center gap-3",children:[t.jsx("div",{className:"w-20 h-12 flex-shrink-0",children:t.jsx("img",{src:s.image_thumbnail?`/storage/${s.image_thumbnail}`:s.image?`/storage/${s.image}`:"/images/default-event.svg",alt:s.title,className:"w-full h-full object-cover rounded"})}),t.jsxs("div",{children:[t.jsx(ae,{href:`/events/${s.id}`,className:"text-lg font-medium",children:s.title}),t.jsx("div",{className:"text-sm text-muted",children:s.location})]})]}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted",children:s.country??"—"}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted",children:s.city??"—"}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted",children:s.start_at?new Date(s.start_at).toLocaleDateString():"—"})]})},s.id)}export{Ce as default};
