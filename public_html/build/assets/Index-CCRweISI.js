import{c as K,u as O,j as t,L as k,r as F,H as Q}from"./app-BBhRT0BT.js";import{A as V}from"./ActionButton-CuQc8aUE.js";import{L as X}from"./list-controls-CJEBv0dA.js";import{A as Y}from"./app-layout-pbUr-j7-.js";/* empty css            */import"./button-DSSG-NsU.js";import"./index-D4P6CcNm.js";import"./index-gdzwEDWp.js";import"./index-BDqSilVs.js";const Z=[{title:"Users",href:"/users"}];function xe(s){const e=K.c(66),{users:a}=s,m=O().props?.auth?.user;let d,o,x,i,p,r,f,h,u,j,g,n,v;if(e[0]!==a.links){const l=typeof window<"u"?new URLSearchParams(window.location.search):null;let U;e[14]===Symbol.for("react.memo_cache_sentinel")?(U=function(E,c){F.put(`/users/${E}`,{active:c})},e[14]=U):U=e[14],v=U;let B;e[15]===Symbol.for("react.memo_cache_sentinel")?(B=function(E){if(typeof window>"u")return;const c=new URLSearchParams(window.location.search),z=c.get("sort")??"";let M;z===`${E}_asc`?M=`${E}_desc`:z===`${E}_desc`?M="":M=`${E}_asc`,M===""?c.delete("sort"):c.set("sort",M),c.delete("page"),F.get(`/users${c.toString()?`?${c.toString()}`:""}`)},e[15]=B):B=e[15];const G=B;d=Y,x=Z,e[16]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(Q,{title:"Users"}),e[16]=i):i=e[16],g="p-4";const q=t.jsx(X,{path:"/users",links:a.links,showSearch:!0,showActive:!0});let T;e[17]!==q?(T=t.jsx("div",{className:"flex items-center gap-4",children:q}),e[17]=q,e[18]=T):T=e[18];let D;e[19]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"flex gap-2",children:t.jsx(V,{href:"/users/create",children:"New User"})}),e[19]=D):D=e[19],e[20]!==T?(n=t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T,D]}),e[20]=T,e[21]=n):n=e[21],j="hidden md:grid md:grid-cols-12 gap-4 mb-2 text-sm text-muted",e[22]===Symbol.for("react.memo_cache_sentinel")?(r=()=>G("name"),e[22]=r):r=e[22],f="md:col-span-6 text-left",h=l?.get("sort")==="name_asc"?"ascending":l?.get("sort")==="name_desc"?"descending":"none",u="Name",o="ml-1 text-xs",p=l?.get("sort")?.startsWith("name_")?l.get("sort")?.endsWith("_asc")?"▲":"▼":"",e[0]=a.links,e[1]=d,e[2]=o,e[3]=x,e[4]=i,e[5]=p,e[6]=r,e[7]=f,e[8]=h,e[9]=u,e[10]=j,e[11]=g,e[12]=n,e[13]=v}else d=e[1],o=e[2],x=e[3],i=e[4],p=e[5],r=e[6],f=e[7],h=e[8],u=e[9],j=e[10],g=e[11],n=e[12],v=e[13];let N;e[23]!==o||e[24]!==p?(N=t.jsx("span",{className:o,children:p}),e[23]=o,e[24]=p,e[25]=N):N=e[25];let b;e[26]!==N||e[27]!==r||e[28]!==f||e[29]!==h||e[30]!==u?(b=t.jsxs("button",{onClick:r,className:f,"aria-sort":h,children:[u,N]}),e[26]=N,e[27]=r,e[28]=f,e[29]=h,e[30]=u,e[31]=b):b=e[31];let R,C,P;e[32]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"md:col-span-4",children:"Email"}),C=t.jsx("div",{className:"md:col-span-1",children:"Active"}),P=t.jsx("div",{className:"md:col-span-1"}),e[32]=R,e[33]=C,e[34]=P):(R=e[32],C=e[33],P=e[34]);let _;e[35]!==b||e[36]!==j?(_=t.jsxs("div",{className:j,children:[b,R,C,P]}),e[35]=b,e[36]=j,e[37]=_):_=e[37];let S;e[38]!==a.links?(S=a.links?.map(te),e[38]=a.links,e[39]=S):S=e[39];let y;e[40]!==S?(y=t.jsx("div",{className:"mb-4",children:S}),e[40]=S,e[41]=y):y=e[41];let w;e[42]!==m||e[43]!==v||e[44]!==a.data?(w=a.data?.map(l=>t.jsx("div",{className:"border rounded p-3",children:t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(k,{href:`/users/${l.id}`,className:"text-lg font-medium",children:l.name}),!l.active&&t.jsx("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-0.5 rounded",children:"Inactive"})]}),t.jsx("div",{className:"text-sm text-muted",children:l.email})]}),t.jsxs("div",{className:"flex gap-2 items-center",children:[m&&(m.is_super_admin||m.id===l.id||m.role==="admin"&&l.role==="user"&&!l.is_super_admin)&&t.jsxs("label",{className:"flex items-center mr-3",children:[t.jsx("input",{type:"checkbox",checked:!!l.active,onChange:U=>v(l.id,U.target.checked)}),t.jsx("span",{className:"ml-2 text-sm text-muted",children:"Active"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{href:`/users/${l.id}/edit`,className:"text-sm text-blue-600",children:"Edit"}),t.jsxs("form",{action:`/users/${l.id}`,method:"post",className:"inline",children:[t.jsx("input",{type:"hidden",name:"_method",value:"delete"}),t.jsx("button",{className:"text-sm text-red-600",type:"submit",children:"Delete"})]})]})]})]})},l.id)),e[42]=m,e[43]=v,e[44]=a.data,e[45]=w):w=e[45];let L;e[46]!==w?(L=t.jsx("div",{className:"grid gap-3",children:w}),e[46]=w,e[47]=L):L=e[47];let $;e[48]!==a.links?($=a.links?.map(ee),e[48]=a.links,e[49]=$):$=e[49];let A;e[50]!==$?(A=t.jsx("div",{className:"mt-4",children:$}),e[50]=$,e[51]=A):A=e[51];let H;e[52]!==y||e[53]!==L||e[54]!==A?(H=t.jsxs("div",{children:[y,L,A]}),e[52]=y,e[53]=L,e[54]=A,e[55]=H):H=e[55];let I;e[56]!==_||e[57]!==H||e[58]!==g||e[59]!==n?(I=t.jsxs("div",{className:g,children:[n,_,H]}),e[56]=_,e[57]=H,e[58]=g,e[59]=n,e[60]=I):I=e[60];let W;return e[61]!==d||e[62]!==x||e[63]!==i||e[64]!==I?(W=t.jsxs(d,{breadcrumbs:x,children:[i,I]}),e[61]=d,e[62]=x,e[63]=i,e[64]=I,e[65]=W):W=e[65],W}function ee(s){return s.url?t.jsx(k,{href:s.url,className:s.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},s.label):t.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:s.label}},s.label)}function te(s){return s.url?t.jsx(k,{href:s.url,className:s.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:String(s.label)}})},String(s.label)):t.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:String(s.label)}},String(s.label))}export{xe as default};
