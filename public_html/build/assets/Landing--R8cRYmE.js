import{c as re,b as U,j as t,r as Y,H as ie,L as Q}from"./app-BBhRT0BT.js";import{L as oe}from"./list-controls-CJEBv0dA.js";import{A as de}from"./app-layout-pbUr-j7-.js";/* empty css            */import"./button-DSSG-NsU.js";import"./index-D4P6CcNm.js";import"./index-gdzwEDWp.js";import"./index-BDqSilVs.js";function we(s){const e=re.c(58),{events:a}=s,n=typeof window<"u"?new URLSearchParams(window.location.search):null,Z=n?.get("q")??"",[c,ee]=U.useState(Z),$=U.useRef(null),V=U.useRef(!0);let L,R;e[0]!==c?(L=()=>{if(V.current){V.current=!1;return}return $.current&&clearTimeout($.current),$.current=window.setTimeout(()=>{const l=new URLSearchParams(window.location.search);c?l.set("q",c):l.delete("q"),Y.get(`${window.location.pathname}${l.toString()?`?${l.toString()}`:""}`)},300),()=>{$.current&&clearTimeout($.current)}},R=[c],e[0]=c,e[1]=L,e[2]=R):(L=e[1],R=e[2]),U.useEffect(L,R);let W;e[3]===Symbol.for("react.memo_cache_sentinel")?(W=function(D){if(typeof window>"u")return;const v=new URLSearchParams(window.location.search),X=v.get("sort")??"";let k;X===`${D}_asc`?k=`${D}_desc`:X===`${D}_desc`?k="":k=`${D}_asc`,k===""?v.delete("sort"):v.set("sort",k),v.delete("page"),Y.get(`${window.location.pathname}${v.toString()?`?${v.toString()}`:""}`)},e[3]=W):W=e[3];const C=W,A=de;let r;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsxs(ie,{children:[t.jsx("title",{children:"Welcome to Events"}),t.jsx("meta",{name:"description",content:"Public landing page for guests"})]}),e[4]=r):r=e[4];const te="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8",se="mt-16",I=a?.links;let i;e[5]!==I?(i=t.jsx(oe,{path:"/",links:I,showSearch:!1,showSort:!1}),e[5]=I,e[6]=i):i=e[6];const ne="hidden md:grid md:grid-cols-12 gap-4 p-3 text-sm";let T;e[7]===Symbol.for("react.memo_cache_sentinel")?(T=()=>C("title"),e[7]=T):T=e[7];const M=n?.get("sort")==="title_asc"?"ascending":n?.get("sort")==="title_desc"?"descending":"none",G=n?.get("sort")?.startsWith("title_")?n.get("sort")?.endsWith("_asc")?"▲":"▼":"";let o;e[8]!==G?(o=t.jsx("span",{className:"ml-1 text-xs",children:G}),e[8]=G,e[9]=o):o=e[9];let d;e[10]!==M||e[11]!==o?(d=t.jsxs("button",{onClick:T,className:"text-left bg-black text-white px-3 py-2 rounded cursor-pointer","aria-sort":M,children:["Event",o]}),e[10]=M,e[11]=o,e[12]=d):d=e[12];let E;e[13]===Symbol.for("react.memo_cache_sentinel")?(E=l=>ee(l.target.value),e[13]=E):E=e[13];let m;e[14]!==c?(m=t.jsx("div",{children:t.jsx("input",{name:"q",value:c,onChange:E,placeholder:"Search events...",className:"w-96 md:w-[40rem] border-2 border-gray-800 px-3 py-1"})}),e[14]=c,e[15]=m):m=e[15];let x;e[16]!==d||e[17]!==m?(x=t.jsxs("div",{className:"md:col-span-8 flex items-center justify-between",children:[d,m]}),e[16]=d,e[17]=m,e[18]=x):x=e[18];let q;e[19]===Symbol.for("react.memo_cache_sentinel")?(q=()=>C("country"),e[19]=q):q=e[19];const z=n?.get("sort")==="country_asc"?"ascending":n?.get("sort")==="country_desc"?"descending":"none",B=n?.get("sort")?.startsWith("country_")?n.get("sort")?.endsWith("_asc")?"▲":"▼":"";let u;e[20]!==B?(u=t.jsx("span",{className:"ml-1 text-xs",children:B}),e[20]=B,e[21]=u):u=e[21];let h;e[22]!==z||e[23]!==u?(h=t.jsxs("button",{onClick:q,className:"md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded","aria-sort":z,children:["Country",u]}),e[22]=z,e[23]=u,e[24]=h):h=e[24];let H;e[25]===Symbol.for("react.memo_cache_sentinel")?(H=()=>C("city"),e[25]=H):H=e[25];const F=n?.get("sort")==="city_asc"?"ascending":n?.get("sort")==="city_desc"?"descending":"none",J=n?.get("sort")?.startsWith("city_")?n.get("sort")?.endsWith("_asc")?"▲":"▼":"";let f;e[26]!==J?(f=t.jsx("span",{className:"ml-1 text-xs",children:J}),e[26]=J,e[27]=f):f=e[27];let p;e[28]!==F||e[29]!==f?(p=t.jsxs("button",{onClick:H,className:"md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded","aria-sort":F,children:["City",f]}),e[28]=F,e[29]=f,e[30]=p):p=e[30];let g;e[31]===Symbol.for("react.memo_cache_sentinel")?(g=()=>C("start"),e[31]=g):g=e[31];const ae="md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded",K=n?.get("sort")==="start_asc"?"ascending":n?.get("sort")==="start_desc"?"descending":"none",ce="Date",le="ml-1 text-xs",O=n?.get("sort")?.startsWith("start_")?n.get("sort")?.endsWith("_asc")?"▲":"▼":"";let _;e[32]!==O?(_=t.jsx("span",{className:le,children:O}),e[32]=O,e[33]=_):_=e[33];let j;e[34]!==g||e[35]!==K||e[36]!==_?(j=t.jsxs("button",{onClick:g,className:ae,"aria-sort":K,children:[ce,_]}),e[34]=g,e[35]=K,e[36]=_,e[37]=j):j=e[37];let b;e[38]!==x||e[39]!==h||e[40]!==p||e[41]!==j?(b=t.jsxs("div",{className:ne,children:[x,h,p,j]}),e[38]=x,e[39]=h,e[40]=p,e[41]=j,e[42]=b):b=e[42];let w;e[43]!==a?(w=a?.data?.length?a.data.map(xe):t.jsx("div",{className:"text-sm text-muted",children:"No public events available."}),e[43]=a,e[44]=w):w=e[44];let y;e[45]!==w?(y=t.jsx("div",{className:"space-y-3",children:w}),e[45]=w,e[46]=y):y=e[46];let N;e[47]!==a?(N=a?.links&&t.jsx("nav",{className:"mt-6 flex items-center justify-center gap-2",children:a.links.map(me)}),e[47]=a,e[48]=N):N=e[48];let S;e[49]!==b||e[50]!==y||e[51]!==N||e[52]!==i?(S=t.jsx("main",{className:te,children:t.jsxs("section",{className:se,children:[i,b,y,N]})}),e[49]=b,e[50]=y,e[51]=N,e[52]=i,e[53]=S):S=e[53];let P;return e[54]!==A||e[55]!==r||e[56]!==S?(P=t.jsxs(A,{children:[r,S]}),e[54]=A,e[55]=r,e[56]=S,e[57]=P):P=e[57],P}function me(s,e){return s.url?t.jsx(Q,{href:s.url,className:`px-3 py-1 rounded ${s.active?"bg-gray-900 text-white":"bg-white border"}`,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},e):t.jsx("span",{className:"px-3 py-1 rounded text-muted",dangerouslySetInnerHTML:{__html:s.label}},e)}function xe(s){return t.jsx("div",{className:"border rounded p-3",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[t.jsxs("div",{className:"md:col-span-8 flex items-center gap-3",children:[t.jsx("div",{className:"w-20 h-12 flex-shrink-0",children:t.jsx("img",{src:s.image_thumbnail?`/storage/${s.image_thumbnail}`:s.image?`/storage/${s.image}`:"/images/default-event.svg",alt:s.title,className:"w-full h-full object-cover rounded"})}),t.jsxs("div",{children:[t.jsx(Q,{href:`/events/${s.id}`,className:"text-lg font-medium",children:s.title}),t.jsx("div",{className:"text-sm text-muted",children:s.location})]})]}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted text-center",children:s.country??"—"}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted text-center",children:s.city??"—"}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted text-center",children:s.start_at?new Date(s.start_at).toLocaleDateString():"—"}),t.jsx("div",{className:"md:col-span-1 text-center",children:t.jsx(Q,{href:`/events/${s.id}#tickets`,className:"text-blue-600",children:"Tickets"})})]})},s.id)}export{we as default};
