import{c as J,r as A,j as s,L as S,b as U,H as K}from"./app-K_vB3ogy.js";import{A as Q}from"./app-layout-B_PQqLGg.js";import{L as V}from"./list-controls-DOK3v770.js";/* empty css            */import"./button-LQp4KWKv.js";import"./index-DyqWmFFX.js";import"./index-Bp4ylXgj.js";import"./index-BDqSilVs.js";const X=[{title:"Organisers",href:"/organisers"}];function me(t){const e=J.c(46),{organisers:l}=t,i=typeof window<"u"?new URLSearchParams(window.location.search):null,W=i?.get("q")??"";i?.get("sort"),A.useState(W),A.useRef(null),A.useRef(!0);let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=function(n,r){U.put(`/organisers/${n}`,{active:r})},e[0]=w):w=e[0];const T=w;let L;e[1]===Symbol.for("react.memo_cache_sentinel")?(L=function(n){if(typeof window>"u")return;const r=new URLSearchParams(window.location.search),q=r.get("sort")??"";let y;q===`${n}_asc`?y=`${n}_desc`:q===`${n}_desc`?y="":y=`${n}_asc`,y===""?r.delete("sort"):r.set("sort",y),r.delete("page"),U.get(`/organisers${r.toString()?`?${r.toString()}`:""}`)},e[1]=L):L=e[1];const D=L;let $;e[2]===Symbol.for("react.memo_cache_sentinel")?($=[],e[2]=$):$=e[2],A.useEffect(ee,$);const M=Q,O=X;let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(K,{title:"Organisers"}),e[3]=c):c=e[3];const k="p-4";let m;e[4]!==l.links?(m=s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(V,{path:"/organisers",links:l.links,showSearch:!0,searchPlaceholder:"Search organisers..."})}),e[4]=l.links,e[5]=m):m=e[5];let E;e[6]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(S,{href:"/organisers/create",className:"btn-primary",children:"New Organiser"}),e[6]=E):E=e[6];let o;e[7]!==m?(o=s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m,E]}),e[7]=m,e[8]=o):o=e[8];const z="hidden md:grid md:grid-cols-12 gap-4 mb-2 text-sm text-muted";let d;e[9]===Symbol.for("react.memo_cache_sentinel")?(d=()=>D("name"),e[9]=d):d=e[9];const B="md:col-span-8 text-left",C=i?.get("sort")==="name_asc"?"ascending":i?.get("sort")==="name_desc"?"descending":"none",F="Name",G="ml-1 text-xs",P=i?.get("sort")?.startsWith("name_")?i.get("sort")?.endsWith("_asc")?"▲":"▼":"";let x;e[10]!==P?(x=s.jsx("span",{className:G,children:P}),e[10]=P,e[11]=x):x=e[11];let f;e[12]!==d||e[13]!==C||e[14]!==x?(f=s.jsxs("button",{onClick:d,className:B,"aria-sort":C,children:[F,x]}),e[12]=d,e[13]=C,e[14]=x,e[15]=f):f=e[15];let H,I;e[16]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("div",{className:"md:col-span-3",children:"Email"}),I=s.jsx("div",{className:"md:col-span-1"}),e[16]=H,e[17]=I):(H=e[16],I=e[17]);let p;e[18]!==f?(p=s.jsxs("div",{className:z,children:[f,H,I]}),e[18]=f,e[19]=p):p=e[19];let h;e[20]!==l.links?(h=l.links?.map(Z),e[20]=l.links,e[21]=h):h=e[21];let u;e[22]!==h?(u=s.jsx("div",{className:"mb-4",children:h}),e[22]=h,e[23]=u):u=e[23];let j;e[24]!==l.data||e[25]!==T?(j=l.data?.map(a=>s.jsx("div",{className:"border rounded p-3",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S,{href:`/organisers/${a.id}`,className:"text-lg font-medium",children:a.name}),!a.active&&s.jsx("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-0.5 rounded",children:"Inactive"})]}),s.jsx("div",{className:"text-sm text-muted",children:a.email})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("label",{className:"flex items-center mr-3",children:[s.jsx("input",{type:"checkbox",checked:!!a.active,onChange:n=>T(a.id,n.target.checked)}),s.jsx("span",{className:"ml-2 text-sm text-muted",children:"Active"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(S,{href:`/organisers/${a.id}/edit`,className:"text-sm text-blue-600",children:"Edit"}),s.jsxs("form",{action:`/organisers/${a.id}`,method:"post",className:"inline",children:[s.jsx("input",{type:"hidden",name:"_method",value:"delete"}),s.jsx("button",{className:"text-sm text-red-600",type:"submit",children:"Delete"})]})]})]})]})},a.id)),e[24]=l.data,e[25]=T,e[26]=j):j=e[26];let g;e[27]!==j?(g=s.jsx("div",{className:"grid gap-3",children:j}),e[27]=j,e[28]=g):g=e[28];let b;e[29]!==l.links?(b=l.links?.map(Y),e[29]=l.links,e[30]=b):b=e[30];let N;e[31]!==b?(N=s.jsx("div",{className:"mt-4",children:b}),e[31]=b,e[32]=N):N=e[32];let _;e[33]!==u||e[34]!==g||e[35]!==N?(_=s.jsxs("div",{children:[u,g,N]}),e[33]=u,e[34]=g,e[35]=N,e[36]=_):_=e[36];let v;e[37]!==p||e[38]!==_||e[39]!==o?(v=s.jsxs("div",{className:k,children:[o,p,_]}),e[37]=p,e[38]=_,e[39]=o,e[40]=v):v=e[40];let R;return e[41]!==M||e[42]!==v||e[43]!==O||e[44]!==c?(R=s.jsxs(M,{breadcrumbs:O,children:[c,v]}),e[41]=M,e[42]=v,e[43]=O,e[44]=c,e[45]=R):R=e[45],R}function Y(t){return t.url?s.jsx(S,{href:t.url,className:t.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:s.jsx("span",{dangerouslySetInnerHTML:{__html:t.label}})},t.label):s.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:t.label}},t.label)}function Z(t){return t.url?s.jsx(S,{href:t.url,className:t.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:s.jsx("span",{dangerouslySetInnerHTML:{__html:t.label}})},t.label):s.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:t.label}},t.label)}function ee(){}export{me as default};
