import{c as B,b as w,j as t,r as I,L as D}from"./app-BBhRT0BT.js";function K(a){const e=B.c(23),{path:n,links:p,showSearch:N,searchPlaceholder:R,showSort:$,showActive:P}=a;let h;e[0]!==p?(h=p===void 0?[]:p,e[0]=p,e[1]=h):h=e[1];const x=h,S=N===void 0?!0:N,j=R===void 0?"Search...":R,U=$===void 0?!1:$,F=P===void 0?!1:P,y=typeof window<"u"?new URLSearchParams(window.location.search):null,H=y?.get("q")??"",[r,M]=w.useState(H),d=w.useRef(null),T=w.useRef(!0),l=n??(typeof window<"u"?window.location.pathname:"");let f,v;e[2]!==l||e[3]!==r?(f=()=>{if(T.current){T.current=!1;return}return d.current&&clearTimeout(d.current),d.current=window.setTimeout(()=>{const s=new URLSearchParams(window.location.search);r?s.set("q",r):s.delete("q"),I.get(`${l}${s.toString()?`?${s.toString()}`:""}`)},300),()=>{d.current&&clearTimeout(d.current)}},v=[r,l],e[2]=l,e[3]=r,e[4]=f,e[5]=v):(f=e[4],v=e[5]),w.useEffect(f,v);let g;e[6]!==l?(g=function(E){if(typeof window>"u"||!E)return;const L=new URLSearchParams(window.location.search);Object.entries(E).forEach(z=>{const[C,_]=z;_===null||_===""?L.delete(C):L.set(C,_)});const k=L.toString();I.get(`${l}${k?`?${k}`:""}`)},e[6]=l,e[7]=g):g=e[7];const A=g,O="mb-4 flex items-center justify-between";let o;e[8]!==x?(o=x?.map(G),e[8]=x,e[9]=o):o=e[9];let c;e[10]!==o?(c=t.jsx("div",{children:o}),e[10]=o,e[11]=c):c=e[11];const Z="flex items-center gap-3";let i;e[12]!==r||e[13]!==j||e[14]!==S?(i=S&&t.jsx("input",{name:"q",value:r,onChange:s=>M(s.target.value),placeholder:j,className:"input"}),e[12]=r,e[13]=j,e[14]=S,e[15]=i):i=e[15];const b=U&&t.jsxs("select",{value:y?.get("sort")??"",onChange:s=>A({sort:s.target.value||null,page:null}),className:"input",children:[t.jsx("option",{value:"",children:"Sort: Latest"}),t.jsx("option",{value:"start_asc",children:"Sort: Start (soonest)"}),t.jsx("option",{value:"start_desc",children:"Sort: Start (latest)"}),t.jsx("option",{value:"created_desc",children:"Sort: Newest"}),t.jsx("option",{value:"title_asc",children:"Sort: Title (A–Z)"})]}),q=F&&t.jsxs("select",{value:y?.get("active")??"all",onChange:s=>A({active:s.target.value||null,page:null}),className:"input",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]});let u;e[16]!==i||e[17]!==b||e[18]!==q?(u=t.jsxs("div",{className:Z,children:[i,b,q]}),e[16]=i,e[17]=b,e[18]=q,e[19]=u):u=e[19];let m;return e[20]!==c||e[21]!==u?(m=t.jsxs("div",{className:O,children:[c,u]}),e[20]=c,e[21]=u,e[22]=m):m=e[22],m}function G(a,e){let n=a.label||"";return n=n.replace(/Previous/gi,"«").replace(/Next/gi,"»"),n=n.replace(/&laquo;|«/g,"«").replace(/&raquo;|»/g,"»").replace(/&lsaquo;|‹/g,"«").replace(/&rsaquo;|›/g,"»"),n=n.replace(/«+/g,"«").replace(/»+/g,"»"),a.url?t.jsx(D,{href:a.url,className:`px-3 py-1 rounded ${a.active?"bg-gray-900 text-white":"bg-white border"}`,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:n}})},e):t.jsx("span",{className:"px-3 py-1 rounded text-muted",dangerouslySetInnerHTML:{__html:n}},e)}export{K as L};
