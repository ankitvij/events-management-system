import{c as K,a as O,j as t,L as R,b as F,H as Q}from"./app-K_vB3ogy.js";import{A as V}from"./app-layout-B_PQqLGg.js";import{L as X}from"./list-controls-DOK3v770.js";/* empty css            */import"./button-LQp4KWKv.js";import"./index-DyqWmFFX.js";import"./index-Bp4ylXgj.js";import"./index-BDqSilVs.js";const Y=[{title:"Users",href:"/users"}];function de(l){const e=K.c(66),{users:a}=l,m=O().props?.auth?.user;let d,o,x,i,p,r,f,h,u,j,g,n,b;if(e[0]!==a.links){const s=typeof window<"u"?new URLSearchParams(window.location.search):null;s?.get("active");let U;e[14]===Symbol.for("react.memo_cache_sentinel")?(U=function(E,c){F.put(`/users/${E}`,{active:c})},e[14]=U):U=e[14],b=U,s?.get("sort");let k;e[15]===Symbol.for("react.memo_cache_sentinel")?(k=function(E){if(typeof window>"u")return;const c=new URLSearchParams(window.location.search),B=c.get("sort")??"";let M;B===`${E}_asc`?M=`${E}_desc`:B===`${E}_desc`?M="":M=`${E}_asc`,M===""?c.delete("sort"):c.set("sort",M),c.delete("page"),F.get(`/users${c.toString()?`?${c.toString()}`:""}`)},e[15]=k):k=e[15];const G=k;d=V,x=Y,e[16]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(Q,{title:"Users"}),e[16]=i):i=e[16],g="p-4";const z=t.jsx(X,{path:"/users",links:a.links,showSearch:!0,showActive:!0});let T;e[17]!==z?(T=t.jsx("div",{className:"flex items-center gap-4",children:z}),e[17]=z,e[18]=T):T=e[18];let q;e[19]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(R,{href:"/users/create",className:"btn-primary",children:"New User"}),e[19]=q):q=e[19],e[20]!==T?(n=t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T,q]}),e[20]=T,e[21]=n):n=e[21],j="hidden md:grid md:grid-cols-12 gap-4 mb-2 text-sm text-muted",e[22]===Symbol.for("react.memo_cache_sentinel")?(r=()=>G("name"),e[22]=r):r=e[22],f="md:col-span-6 text-left",h=s?.get("sort")==="name_asc"?"ascending":s?.get("sort")==="name_desc"?"descending":"none",u="Name",o="ml-1 text-xs",p=s?.get("sort")?.startsWith("name_")?s.get("sort")?.endsWith("_asc")?"▲":"▼":"",e[0]=a.links,e[1]=d,e[2]=o,e[3]=x,e[4]=i,e[5]=p,e[6]=r,e[7]=f,e[8]=h,e[9]=u,e[10]=j,e[11]=g,e[12]=n,e[13]=b}else d=e[1],o=e[2],x=e[3],i=e[4],p=e[5],r=e[6],f=e[7],h=e[8],u=e[9],j=e[10],g=e[11],n=e[12],b=e[13];let v;e[23]!==o||e[24]!==p?(v=t.jsx("span",{className:o,children:p}),e[23]=o,e[24]=p,e[25]=v):v=e[25];let N;e[26]!==v||e[27]!==r||e[28]!==f||e[29]!==h||e[30]!==u?(N=t.jsxs("button",{onClick:r,className:f,"aria-sort":h,children:[u,v]}),e[26]=v,e[27]=r,e[28]=f,e[29]=h,e[30]=u,e[31]=N):N=e[31];let C,P,W;e[32]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("div",{className:"md:col-span-4",children:"Email"}),P=t.jsx("div",{className:"md:col-span-1",children:"Active"}),W=t.jsx("div",{className:"md:col-span-1"}),e[32]=C,e[33]=P,e[34]=W):(C=e[32],P=e[33],W=e[34]);let _;e[35]!==N||e[36]!==j?(_=t.jsxs("div",{className:j,children:[N,C,P,W]}),e[35]=N,e[36]=j,e[37]=_):_=e[37];let y;e[38]!==a.links?(y=a.links?.map(ee),e[38]=a.links,e[39]=y):y=e[39];let S;e[40]!==y?(S=t.jsx("div",{className:"mb-4",children:y}),e[40]=y,e[41]=S):S=e[41];let w;e[42]!==m||e[43]!==b||e[44]!==a.data?(w=a.data?.map(s=>t.jsx("div",{className:"border rounded p-3",children:t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(R,{href:`/users/${s.id}`,className:"text-lg font-medium",children:s.name}),!s.active&&t.jsx("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-0.5 rounded",children:"Inactive"})]}),t.jsx("div",{className:"text-sm text-muted",children:s.email})]}),t.jsxs("div",{className:"flex gap-2 items-center",children:[m&&(m.is_super_admin||m.id===s.id||m.role==="admin"&&s.role==="user"&&!s.is_super_admin)&&t.jsxs("label",{className:"flex items-center mr-3",children:[t.jsx("input",{type:"checkbox",checked:!!s.active,onChange:U=>b(s.id,U.target.checked)}),t.jsx("span",{className:"ml-2 text-sm text-muted",children:"Active"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(R,{href:`/users/${s.id}/edit`,className:"text-sm text-blue-600",children:"Edit"}),t.jsxs("form",{action:`/users/${s.id}`,method:"post",className:"inline",children:[t.jsx("input",{type:"hidden",name:"_method",value:"delete"}),t.jsx("button",{className:"text-sm text-red-600",type:"submit",children:"Delete"})]})]})]})]})},s.id)),e[42]=m,e[43]=b,e[44]=a.data,e[45]=w):w=e[45];let L;e[46]!==w?(L=t.jsx("div",{className:"grid gap-3",children:w}),e[46]=w,e[47]=L):L=e[47];let $;e[48]!==a.links?($=a.links?.map(Z),e[48]=a.links,e[49]=$):$=e[49];let A;e[50]!==$?(A=t.jsx("div",{className:"mt-4",children:$}),e[50]=$,e[51]=A):A=e[51];let H;e[52]!==S||e[53]!==L||e[54]!==A?(H=t.jsxs("div",{children:[S,L,A]}),e[52]=S,e[53]=L,e[54]=A,e[55]=H):H=e[55];let I;e[56]!==_||e[57]!==H||e[58]!==g||e[59]!==n?(I=t.jsxs("div",{className:g,children:[n,_,H]}),e[56]=_,e[57]=H,e[58]=g,e[59]=n,e[60]=I):I=e[60];let D;return e[61]!==d||e[62]!==x||e[63]!==i||e[64]!==I?(D=t.jsxs(d,{breadcrumbs:x,children:[i,I]}),e[61]=d,e[62]=x,e[63]=i,e[64]=I,e[65]=D):D=e[65],D}function Z(l){return l.url?t.jsx(R,{href:l.url,className:l.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})},l.label):t.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:l.label}},l.label)}function ee(l){return l.url?t.jsx(R,{href:l.url,className:l.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})},l.label):t.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:l.label}},l.label)}export{de as default};
