import{c as me,a as pe,u as ge,j as s,L as le,H as ue}from"./app-DMA6u8dI.js";import{O as fe}from"./organiser-placeholder-IgYvLLY_.js";import{O as xe}from"./organiser-multi-select-mQEwsfIc.js";import{A as he}from"./app-layout-Rbn9AEba.js";/* empty css            */import"./button-nVv5cgC_.js";import"./index-CNjDQEA8.js";import"./index-Cid1OR3k.js";import"./index-BDqSilVs.js";function He(i){const e=me.c(118),{event:t}=i;let U;e[0]===Symbol.for("react.memo_cache_sentinel")?(U={title:"Events",href:"/events"},e[0]=U):U=e[0];const G=`/events/${t.id}`;let W;e[1]!==t.title||e[2]!==G?(W=[U,{title:t.title,href:G}],e[1]=t.title,e[2]=G,e[3]=W):W=e[3];const K=W,a=pe(),r=a.props?.auth?.user,k=a.props?.showHomeHeader??!1;let z;e[4]!==a.props?.organisers?(z=a.props?.organisers??[],e[4]=a.props?.organisers,e[5]=z):z=e[5];const Q=z;let c;e[6]!==t.organisers?(c=t.organisers?t.organisers.map(ye):[],e[6]=t.organisers,e[7]=c):c=e[7];let M;e[8]!==c?(M={organiser_ids:c},e[8]=c,e[9]=M):M=e[9];const n=ge(M);let B;e[10]!==t.id||e[11]!==n?(B=function(de){de.preventDefault(),n.put(`/events/${t.id}`,{forceFormData:!0})},e[10]=t.id,e[11]=n,e[12]=B):B=e[12];const V=B;let d;e[13]!==t.title?(d=s.jsx("title",{children:t.title}),e[13]=t.title,e[14]=d):d=e[14];const X=t.description||"";let m;e[15]!==X?(m=s.jsx("meta",{name:"description",content:X}),e[15]=X,e[16]=m):m=e[16];let p;e[17]!==t.title?(p=s.jsx("meta",{property:"og:title",content:t.title}),e[17]=t.title,e[18]=p):p=e[18];const Y=t.description||"";let g;e[19]!==Y?(g=s.jsx("meta",{property:"og:description",content:Y}),e[19]=Y,e[20]=g):g=e[20];let u;e[21]!==t.image||e[22]!==t.image_thumbnail?(u=t.image||t.image_thumbnail?s.jsx("meta",{property:"og:image",content:t.image?`/storage/${t.image}`:`/storage/${t.image_thumbnail}`}):null,e[21]=t.image,e[22]=t.image_thumbnail,e[23]=u):u=e[23];let f;e[24]!==r||e[25]!==t.address||e[26]!==t.city||e[27]!==t.country||e[28]!==t.description||e[29]!==t.end_at||e[30]!==t.image||e[31]!==t.image_thumbnail||e[32]!==t.location||e[33]!==t.organisers||e[34]!==t.start_at||e[35]!==t.title?(f=JSON.stringify({"@context":"https://schema.org","@type":"Event",name:t.title||void 0,description:t.description||void 0,startDate:t.start_at||void 0,endDate:t.end_at||void 0,url:typeof window<"u"?window.location.href:void 0,image:t.image?`${window.location.origin}/storage/${t.image}`:t.image_thumbnail?`${window.location.origin}/storage/${t.image_thumbnail}`:void 0,location:{"@type":"Place",name:t.location||void 0,address:t.address||(t.city||t.country?`${t.city||""}${t.city&&t.country?", ":""}${t.country||""}`:void 0)},organizer:r&&t.organisers?t.organisers.map(je):void 0}),e[24]=r,e[25]=t.address,e[26]=t.city,e[27]=t.country,e[28]=t.description,e[29]=t.end_at,e[30]=t.image,e[31]=t.image_thumbnail,e[32]=t.location,e[33]=t.organisers,e[34]=t.start_at,e[35]=t.title,e[36]=f):f=e[36];let x;e[37]!==f?(x=s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:f}}),e[37]=f,e[38]=x):x=e[38];let h;e[39]!==m||e[40]!==p||e[41]!==g||e[42]!==u||e[43]!==x||e[44]!==d?(h=s.jsxs(ue,{children:[d,m,p,g,u,x]}),e[39]=m,e[40]=p,e[41]=g,e[42]=u,e[43]=x,e[44]=d,e[45]=h):h=e[45];const Z=k?"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8":"p-4",l=t.image_url??t.image_thumbnail_url??t.image??t.image_thumbnail??"";let o="/images/default-event.svg";l&&(l.startsWith("http")||l.startsWith("/storage/")?o=l:l.startsWith("storage/")?o=`/${l}`:o=`/storage/${l}`);const ee=t.updated_at??t.created_at,ce=ve;let J;e[46]!==ee||e[47]!==o?(J=ce(o,ee),e[46]=ee,e[47]=o,e[48]=J):J=e[48];const te=J;let T;e[49]!==t.title||e[50]!==te?(T=s.jsx("div",{className:"mb-4",children:s.jsx("img",{src:te,alt:t.title,className:"max-w-full h-auto rounded"})}),e[49]=t.title,e[50]=te,e[51]=T):T=e[51];const se=T;let _;e[52]!==t.title?(_=s.jsx("h1",{className:"text-2xl font-semibold",children:t.title}),e[52]=t.title,e[53]=_):_=e[53];const ie=t.city?` · ${t.city}`:"",ae=t.country?`, ${t.country}`:"";let v;e[54]!==t.location||e[55]!==ie||e[56]!==ae?(v=s.jsxs("div",{className:"text-sm text-muted",children:[t.location,ie,ae]}),e[54]=t.location,e[55]=ie,e[56]=ae,e[57]=v):v=e[57];let j;e[58]!==t.start_at?(j=t.start_at?`Starts: ${new Date(t.start_at).toLocaleString()}`:"Starts: —",e[58]=t.start_at,e[59]=j):j=e[59];let y;e[60]!==t.end_at?(y=t.end_at?` · Ends: ${new Date(t.end_at).toLocaleString()}`:"",e[60]=t.end_at,e[61]=y):y=e[61];let b;e[62]!==j||e[63]!==y?(b=s.jsxs("div",{className:"text-sm text-muted mt-2",children:[j,y]}),e[62]=j,e[63]=y,e[64]=b):b=e[64];const re=t.active?"Active":"Inactive";let $;e[65]!==re?($=s.jsxs("div",{className:"text-sm text-muted mt-2",children:["Status: ",re]}),e[65]=re,e[66]=$):$=e[66];let N;e[67]!==r||e[68]!==t.organisers?(N=t.organisers&&t.organisers.length>0&&(r?s.jsxs("div",{className:"text-sm text-muted mt-2",children:["Organisers: ",t.organisers.map(_e).join(", ")]}):s.jsx(fe,{})),e[67]=r,e[68]=t.organisers,e[69]=N):N=e[69];let w;e[70]!==t.description?(w=s.jsx("div",{className:"mt-4",children:t.description}),e[70]=t.description,e[71]=w):w=e[71];const ne=t.user?t.user.name??t.user.email:"—";let S;e[72]!==ne?(S=s.jsxs("div",{children:["Created by: ",ne]}),e[72]=ne,e[73]=S):S=e[73];let E;e[74]!==t.created_at?(E=t.created_at?new Date(t.created_at).toLocaleString():"—",e[74]=t.created_at,e[75]=E):E=e[75];let O;e[76]!==E?(O=s.jsxs("div",{children:["Created: ",E]}),e[76]=E,e[77]=O):O=e[77];let D;e[78]!==t.updated_at?(D=t.updated_at?new Date(t.updated_at).toLocaleString():"—",e[78]=t.updated_at,e[79]=D):D=e[79];let L;e[80]!==D?(L=s.jsxs("div",{children:["Updated: ",D]}),e[80]=D,e[81]=L):L=e[81];let H;e[82]!==S||e[83]!==O||e[84]!==L?(H=s.jsxs("div",{className:"mt-4 text-xs text-muted",children:[S,O,L]}),e[82]=S,e[83]=O,e[84]=L,e[85]=H):H=e[85];let C;e[86]!==t.id||e[87]!==a.props?.canEdit?(C=a.props?.canEdit?s.jsx(le,{href:`/events/${t.id}/edit`,className:"btn",children:"Edit"}):null,e[86]=t.id,e[87]=a.props?.canEdit,e[88]=C):C=e[88];let A;e[89]!==r||e[90]!==k?(A=!r&&!k&&s.jsxs("div",{className:"ml-auto text-sm",children:[s.jsx(le,{href:"/login",className:"text-blue-600 mr-3",children:"Log in"}),s.jsx(le,{href:"/register",className:"text-blue-600",children:"Sign up"})]}),e[89]=r,e[90]=k,e[91]=A):A=e[91];let F;e[92]!==C||e[93]!==A?(F=s.jsxs("div",{className:"flex items-center gap-3",children:[C,A]}),e[92]=C,e[93]=A,e[94]=F):F=e[94];let I;e[95]!==Q||e[96]!==n||e[97]!==a.props?.canEdit||e[98]!==V?(I=a.props?.canEdit&&s.jsxs("form",{onSubmit:V,className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Organisers"}),s.jsx(xe,{organisers:Q,value:n.data.organiser_ids,onChange:oe=>n.setData("organiser_ids",oe)}),s.jsx("div",{className:"mt-2",children:s.jsx("button",{type:"submit",className:"btn-primary",disabled:n.processing,children:"Save organisers"})})]}),e[95]=Q,e[96]=n,e[97]=a.props?.canEdit,e[98]=V,e[99]=I):I=e[99];let P;e[100]!==F||e[101]!==I?(P=s.jsxs("div",{className:"mt-6",children:[F,I]}),e[100]=F,e[101]=I,e[102]=P):P=e[102];let R;e[103]!==Z||e[104]!==se||e[105]!==_||e[106]!==v||e[107]!==b||e[108]!==$||e[109]!==N||e[110]!==w||e[111]!==H||e[112]!==P?(R=s.jsxs("div",{className:Z,children:[se,_,v,b,$,N,w,H,P]}),e[103]=Z,e[104]=se,e[105]=_,e[106]=v,e[107]=b,e[108]=$,e[109]=N,e[110]=w,e[111]=H,e[112]=P,e[113]=R):R=e[113];let q;return e[114]!==K||e[115]!==h||e[116]!==R?(q=s.jsxs(he,{breadcrumbs:K,children:[h,R]}),e[114]=K,e[115]=h,e[116]=R,e[117]=q):q=e[117],q}function _e(i){return i.name}function ve(i,e){if(!e)return i;const t=i.includes("?")?"&":"?";return`${i}${t}v=${encodeURIComponent(e)}`}function je(i){return{"@type":"Organization",name:i.name}}function ye(i){return i.id}export{He as default};
