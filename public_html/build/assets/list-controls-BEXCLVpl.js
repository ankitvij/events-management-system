import{c as B,b as w,j as t,r as C,L as D}from"./app-DMA6u8dI.js";function K(a){const e=B.c(23),{path:n,links:p,showSearch:N,searchPlaceholder:R,showSort:$,showActive:P}=a;let h;e[0]!==p?(h=p===void 0?[]:p,e[0]=p,e[1]=h):h=e[1];const x=h,S=N===void 0?!0:N,j=R===void 0?"Search...":R,I=$===void 0?!1:$,U=P===void 0?!1:P,y=typeof window<"u"?new URLSearchParams(window.location.search):null,F=y?.get("q")??"",[l,H]=w.useState(F),d=w.useRef(null),T=w.useRef(!0),r=n??(typeof window<"u"?window.location.pathname:"");let f,v;e[2]!==r||e[3]!==l?(f=()=>{if(T.current){T.current=!1;return}return d.current&&clearTimeout(d.current),d.current=window.setTimeout(()=>{const s=new URLSearchParams(window.location.search);l?s.set("q",l):s.delete("q"),C.get(`${r}${s.toString()?`?${s.toString()}`:""}`)},300),()=>{d.current&&clearTimeout(d.current)}},v=[l,r],e[2]=r,e[3]=l,e[4]=f,e[5]=v):(f=e[4],v=e[5]),w.useEffect(f,v);let g;e[6]!==r?(g=function(Z){if(typeof window>"u")return;const _=new URLSearchParams(window.location.search);Object.entries(Z).forEach(z=>{const[k,q]=z;q===null||q===""?_.delete(k):_.set(k,q)});const E=_.toString();C.get(`${r}${E?`?${E}`:""}`)},e[6]=r,e[7]=g):g=e[7];const A=g,M="mb-4 flex items-center justify-between";let o;e[8]!==x?(o=x?.map(G),e[8]=x,e[9]=o):o=e[9];let c;e[10]!==o?(c=t.jsx("div",{children:o}),e[10]=o,e[11]=c):c=e[11];const O="flex items-center gap-3";let i;e[12]!==l||e[13]!==j||e[14]!==S?(i=S&&t.jsx("input",{value:l,onChange:s=>H(s.target.value),placeholder:j,className:"input"}),e[12]=l,e[13]=j,e[14]=S,e[15]=i):i=e[15];const b=I&&t.jsxs("select",{value:y?.get("sort")??"",onChange:s=>A({sort:s.target.value||null,page:null}),className:"input",children:[t.jsx("option",{value:"",children:"Sort: Latest"}),t.jsx("option",{value:"start_asc",children:"Sort: Start (soonest)"}),t.jsx("option",{value:"start_desc",children:"Sort: Start (latest)"}),t.jsx("option",{value:"created_desc",children:"Sort: Newest"}),t.jsx("option",{value:"title_asc",children:"Sort: Title (A–Z)"})]}),L=U&&t.jsxs("select",{value:y?.get("active")??"all",onChange:s=>A({active:s.target.value||null,page:null}),className:"input",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]});let u;e[16]!==i||e[17]!==b||e[18]!==L?(u=t.jsxs("div",{className:O,children:[i,b,L]}),e[16]=i,e[17]=b,e[18]=L,e[19]=u):u=e[19];let m;return e[20]!==c||e[21]!==u?(m=t.jsxs("div",{className:M,children:[c,u]}),e[20]=c,e[21]=u,e[22]=m):m=e[22],m}function G(a,e){let n=a.label||"";return n=n.replace(/Previous/gi,"«").replace(/Next/gi,"»"),n=n.replace(/&laquo;|«/g,"«").replace(/&raquo;|»/g,"»").replace(/&lsaquo;|‹/g,"«").replace(/&rsaquo;|›/g,"»"),n=n.replace(/«+/g,"«").replace(/»+/g,"»"),a.url?t.jsx(D,{href:a.url,className:`px-3 py-1 rounded ${a.active?"bg-gray-900 text-white":"bg-white border"}`,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:n}})},e):t.jsx("span",{className:"px-3 py-1 rounded text-muted",dangerouslySetInnerHTML:{__html:n}},e)}export{K as L};
