import{c as J,r as A,j as s,L as S,b as U,H as K}from"./app-PA2z4sOg.js";import{L as Q}from"./list-controls-VAfzfVSV.js";import{A as V}from"./app-layout-B3SxiQxP.js";/* empty css            */import"./button-BMhgMQMR.js";import"./index-Q4R35CyV.js";import"./index--rnlBiEa.js";import"./index-BDqSilVs.js";const X=[{title:"Organisers",href:"/organisers"}];function me(t){const e=J.c(46),{organisers:l}=t,v=typeof window<"u"?new URLSearchParams(window.location.search):null,W=v?.get("q")??"";A.useState(W),A.useRef(null),A.useRef(!0);let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=function(n,r){U.put(`/organisers/${n}`,{active:r})},e[0]=w):w=e[0];const T=w;let L;e[1]===Symbol.for("react.memo_cache_sentinel")?(L=function(n){if(typeof window>"u")return;const r=new URLSearchParams(window.location.search),q=r.get("sort")??"";let y;q===`${n}_asc`?y=`${n}_desc`:q===`${n}_desc`?y="":y=`${n}_asc`,y===""?r.delete("sort"):r.set("sort",y),r.delete("page"),U.get(`/organisers${r.toString()?`?${r.toString()}`:""}`)},e[1]=L):L=e[1];const D=L;let $;e[2]===Symbol.for("react.memo_cache_sentinel")?($=[],e[2]=$):$=e[2],A.useEffect(ee,$);const M=V,O=X;let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(K,{title:"Organisers"}),e[3]=i):i=e[3];const k="p-4";let c;e[4]!==l.links?(c=s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(Q,{path:"/organisers",links:l.links,showSearch:!0,searchPlaceholder:"Search organisers..."})}),e[4]=l.links,e[5]=c):c=e[5];let E;e[6]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(S,{href:"/organisers/create",className:"btn-primary",children:"New Organiser"}),e[6]=E):E=e[6];let m;e[7]!==c?(m=s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c,E]}),e[7]=c,e[8]=m):m=e[8];const z="hidden md:grid md:grid-cols-12 gap-4 mb-2 text-sm text-muted";let o;e[9]===Symbol.for("react.memo_cache_sentinel")?(o=()=>D("name"),e[9]=o):o=e[9];const B="md:col-span-8 text-left",C=v?.get("sort")==="name_asc"?"ascending":v?.get("sort")==="name_desc"?"descending":"none",F="Name",G="ml-1 text-xs",P=v?.get("sort")?.startsWith("name_")?v.get("sort")?.endsWith("_asc")?"▲":"▼":"";let d;e[10]!==P?(d=s.jsx("span",{className:G,children:P}),e[10]=P,e[11]=d):d=e[11];let x;e[12]!==o||e[13]!==C||e[14]!==d?(x=s.jsxs("button",{onClick:o,className:B,"aria-sort":C,children:[F,d]}),e[12]=o,e[13]=C,e[14]=d,e[15]=x):x=e[15];let H,I;e[16]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("div",{className:"md:col-span-3",children:"Email"}),I=s.jsx("div",{className:"md:col-span-1"}),e[16]=H,e[17]=I):(H=e[16],I=e[17]);let f;e[18]!==x?(f=s.jsxs("div",{className:z,children:[x,H,I]}),e[18]=x,e[19]=f):f=e[19];let p;e[20]!==l.links?(p=l.links?.map(Z),e[20]=l.links,e[21]=p):p=e[21];let h;e[22]!==p?(h=s.jsx("div",{className:"mb-4",children:p}),e[22]=p,e[23]=h):h=e[23];let u;e[24]!==l.data||e[25]!==T?(u=l.data?.map(a=>s.jsx("div",{className:"border rounded p-3",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S,{href:`/organisers/${a.id}`,className:"text-lg font-medium",children:a.name}),!a.active&&s.jsx("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-0.5 rounded",children:"Inactive"})]}),s.jsx("div",{className:"text-sm text-muted",children:a.email})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("label",{className:"flex items-center mr-3",children:[s.jsx("input",{type:"checkbox",checked:!!a.active,onChange:n=>T(a.id,n.target.checked)}),s.jsx("span",{className:"ml-2 text-sm text-muted",children:"Active"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(S,{href:`/organisers/${a.id}/edit`,className:"text-sm text-blue-600",children:"Edit"}),s.jsxs("form",{action:`/organisers/${a.id}`,method:"post",className:"inline",children:[s.jsx("input",{type:"hidden",name:"_method",value:"delete"}),s.jsx("button",{className:"text-sm text-red-600",type:"submit",children:"Delete"})]})]})]})]})},a.id)),e[24]=l.data,e[25]=T,e[26]=u):u=e[26];let j;e[27]!==u?(j=s.jsx("div",{className:"grid gap-3",children:u}),e[27]=u,e[28]=j):j=e[28];let g;e[29]!==l.links?(g=l.links?.map(Y),e[29]=l.links,e[30]=g):g=e[30];let b;e[31]!==g?(b=s.jsx("div",{className:"mt-4",children:g}),e[31]=g,e[32]=b):b=e[32];let N;e[33]!==h||e[34]!==j||e[35]!==b?(N=s.jsxs("div",{children:[h,j,b]}),e[33]=h,e[34]=j,e[35]=b,e[36]=N):N=e[36];let _;e[37]!==f||e[38]!==N||e[39]!==m?(_=s.jsxs("div",{className:k,children:[m,f,N]}),e[37]=f,e[38]=N,e[39]=m,e[40]=_):_=e[40];let R;return e[41]!==M||e[42]!==_||e[43]!==O||e[44]!==i?(R=s.jsxs(M,{breadcrumbs:O,children:[i,_]}),e[41]=M,e[42]=_,e[43]=O,e[44]=i,e[45]=R):R=e[45],R}function Y(t){return t.url?s.jsx(S,{href:t.url,className:t.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:s.jsx("span",{dangerouslySetInnerHTML:{__html:t.label}})},t.label):s.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:t.label}},t.label)}function Z(t){return t.url?s.jsx(S,{href:t.url,className:t.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:s.jsx("span",{dangerouslySetInnerHTML:{__html:t.label}})},t.label):s.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:t.label}},t.label)}function ee(){}export{me as default};
