import{c as me,b as G,j as t,r as te,H as xe,L as se}from"./app-BrTzqn12.js";import{L as he}from"./list-controls-BtzdO50D.js";import{A as ue}from"./app-layout-C3O6U_3I.js";/* empty css            */import"./button-Cwod5XeG.js";import"./index-CCZnWZy1.js";import"./index-0TeI-H6u.js";import"./index-BDqSilVs.js";function ve(s){const e=me.c(63),{events:l}=s,a=typeof window<"u"?new URLSearchParams(window.location.search):null,ae=a?.get("q")??"",[n,le]=G.useState(ae),k=G.useRef(null),Z=G.useRef(!0);let C,R;e[0]!==n?(C=()=>{if(Z.current){Z.current=!1;return}return k.current&&clearTimeout(k.current),k.current=window.setTimeout(()=>{const r=new URLSearchParams(window.location.search);n?r.set("q",n):r.delete("q"),te.get(`${window.location.pathname}${r.toString()?`?${r.toString()}`:""}`)},300),()=>{k.current&&clearTimeout(k.current)}},R=[n],e[0]=n,e[1]=C,e[2]=R):(C=e[1],R=e[2]),G.useEffect(C,R);let W;e[3]===Symbol.for("react.memo_cache_sentinel")?(W=function(D){if(typeof window>"u")return;const $=new URLSearchParams(window.location.search),ee=$.get("sort")??"";let L;ee===`${D}_asc`?L=`${D}_desc`:ee===`${D}_desc`?L="":L=`${D}_asc`,L===""?$.delete("sort"):$.set("sort",L),$.delete("page"),te.get(`${window.location.pathname}${$.toString()?`?${$.toString()}`:""}`)},e[3]=W):W=e[3];const E=W,K=ue;let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs(xe,{children:[t.jsx("title",{children:"Welcome to Events"}),t.jsx("meta",{name:"description",content:"Public landing page for guests"})]}),e[4]=c):c=e[4];const ne="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8",re="mt-16",Q=l?.links;let i;e[5]!==Q?(i=t.jsx(he,{path:"/",links:Q,showSearch:!1,showSort:!1}),e[5]=Q,e[6]=i):i=e[6];const ce="hidden md:grid md:grid-cols-12 gap-4 mb-2 text-sm";let T;e[7]===Symbol.for("react.memo_cache_sentinel")?(T=()=>E("title"),e[7]=T):T=e[7];const z=a?.get("sort")==="title_asc"?"ascending":a?.get("sort")==="title_desc"?"descending":"none",B=a?.get("sort")?.startsWith("title_")?a.get("sort")?.endsWith("_asc")?"▲":"▼":"";let o;e[8]!==B?(o=t.jsx("span",{className:"ml-1 text-xs",children:B}),e[8]=B,e[9]=o):o=e[9];let d;e[10]!==z||e[11]!==o?(d=t.jsxs("button",{onClick:T,className:"text-left bg-black text-white px-3 py-2 rounded cursor-pointer","aria-sort":z,children:["Event",o]}),e[10]=z,e[11]=o,e[12]=d):d=e[12];let q;e[13]===Symbol.for("react.memo_cache_sentinel")?(q=r=>le(r.target.value),e[13]=q):q=e[13];let m;e[14]!==n?(m=t.jsx("div",{className:"ml-4",children:t.jsx("input",{value:n,onChange:q,placeholder:"Search events...",className:"w-96 md:w-[40rem] border-2 border-gray-800 px-3 py-1"})}),e[14]=n,e[15]=m):m=e[15];let x;e[16]!==d||e[17]!==m?(x=t.jsxs("div",{className:"md:col-span-9 flex items-center justify-between",children:[d,m]}),e[16]=d,e[17]=m,e[18]=x):x=e[18];let H;e[19]===Symbol.for("react.memo_cache_sentinel")?(H=()=>E("country"),e[19]=H):H=e[19];const F=a?.get("sort")==="country_asc"?"ascending":a?.get("sort")==="country_desc"?"descending":"none",J=a?.get("sort")?.startsWith("country_")?a.get("sort")?.endsWith("_asc")?"▲":"▼":"";let h;e[20]!==J?(h=t.jsx("span",{className:"ml-1 text-xs",children:J}),e[20]=J,e[21]=h):h=e[21];let u;e[22]!==F||e[23]!==h?(u=t.jsxs("button",{onClick:H,className:"md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded","aria-sort":F,children:["Country",h]}),e[22]=F,e[23]=h,e[24]=u):u=e[24];let P;e[25]===Symbol.for("react.memo_cache_sentinel")?(P=()=>E("city"),e[25]=P):P=e[25];const O=a?.get("sort")==="city_asc"?"ascending":a?.get("sort")==="city_desc"?"descending":"none",V=a?.get("sort")?.startsWith("city_")?a.get("sort")?.endsWith("_asc")?"▲":"▼":"";let f;e[26]!==V?(f=t.jsx("span",{className:"ml-1 text-xs",children:V}),e[26]=V,e[27]=f):f=e[27];let p;e[28]!==O||e[29]!==f?(p=t.jsxs("button",{onClick:P,className:"md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded","aria-sort":O,children:["City",f]}),e[28]=O,e[29]=f,e[30]=p):p=e[30];let g;e[31]===Symbol.for("react.memo_cache_sentinel")?(g=()=>E("start"),e[31]=g):g=e[31];const ie="md:col-span-1 text-center cursor-pointer bg-black text-white px-3 py-2 rounded",X=a?.get("sort")==="start_asc"?"ascending":a?.get("sort")==="start_desc"?"descending":"none",oe="Start",de="ml-1 text-xs",Y=a?.get("sort")?.startsWith("start_")?a.get("sort")?.endsWith("_asc")?"▲":"▼":"";let _;e[32]!==Y?(_=t.jsx("span",{className:de,children:Y}),e[32]=Y,e[33]=_):_=e[33];let j;e[34]!==g||e[35]!==X||e[36]!==_?(j=t.jsxs("button",{onClick:g,className:ie,"aria-sort":X,children:[oe,_]}),e[34]=g,e[35]=X,e[36]=_,e[37]=j):j=e[37];let b;e[38]!==x||e[39]!==u||e[40]!==p||e[41]!==j?(b=t.jsxs("div",{className:ce,children:[x,u,p,j]}),e[38]=x,e[39]=u,e[40]=p,e[41]=j,e[42]=b):b=e[42];let N;e[43]!==l?(N=l?.data?.length?l.data.map(pe):t.jsx("div",{className:"text-sm text-muted",children:"No public events available."}),e[43]=l,e[44]=N):N=e[44];let y;e[45]!==N?(y=t.jsx("div",{className:"space-y-3",children:N}),e[45]=N,e[46]=y):y=e[46];let w;e[47]!==l?(w=l?.links&&t.jsx("nav",{className:"mt-6 flex items-center justify-center gap-2",children:l.links.map(fe)}),e[47]=l,e[48]=w):w=e[48];let S;e[49]!==b||e[50]!==y||e[51]!==w||e[52]!==i?(S=t.jsxs("section",{className:re,children:[i,b,y,w]}),e[49]=b,e[50]=y,e[51]=w,e[52]=i,e[53]=S):S=e[53];let I;e[54]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{className:"p-6 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Create Events"}),t.jsx("p",{className:"text-sm text-muted",children:"Quickly create events with images, locations and organisers."})]}),e[54]=I):I=e[54];let M;e[55]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsxs("div",{className:"p-6 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Manage Teams"}),t.jsx("p",{className:"text-sm text-muted",children:"Invite organisers and coordinate schedules and roles."})]}),e[55]=M):M=e[55];let U;e[56]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsxs("section",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[I,M,t.jsxs("div",{className:"p-6 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Stay Notified"}),t.jsx("p",{className:"text-sm text-muted",children:"Keep attendees informed with notifications and updates."})]})]}),e[56]=U):U=e[56];let v;e[57]!==S?(v=t.jsxs("main",{className:ne,children:[S,U]}),e[57]=S,e[58]=v):v=e[58];let A;return e[59]!==K||e[60]!==c||e[61]!==v?(A=t.jsxs(K,{children:[c,v]}),e[59]=K,e[60]=c,e[61]=v,e[62]=A):A=e[62],A}function fe(s,e){return s.url?t.jsx(se,{href:s.url,className:`px-3 py-1 rounded ${s.active?"bg-gray-900 text-white":"bg-white border"}`,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},e):t.jsx("span",{className:"px-3 py-1 rounded text-muted",dangerouslySetInnerHTML:{__html:s.label}},e)}function pe(s){return t.jsx("div",{className:"border rounded p-3",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[t.jsxs("div",{className:"md:col-span-9 flex items-center gap-3",children:[t.jsx("div",{className:"w-20 h-12 flex-shrink-0",children:t.jsx("img",{src:s.image_thumbnail?`/storage/${s.image_thumbnail}`:s.image?`/storage/${s.image}`:"/images/default-event.svg",alt:s.title,className:"w-full h-full object-cover rounded"})}),t.jsxs("div",{children:[t.jsx(se,{href:`/events/${s.id}`,className:"text-lg font-medium",children:s.title}),t.jsx("div",{className:"text-sm text-muted",children:s.location})]})]}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted",children:s.country??"—"}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted",children:s.city??"—"}),t.jsx("div",{className:"md:col-span-1 text-sm text-muted",children:s.start_at?new Date(s.start_at).toLocaleDateString():"—"})]})},s.id)}export{ve as default};
