import{c as Nt,a as Re,j as y,d as Bt,u as Ft,H as Vt,L as Y}from"./app-hmbPsEXx.js";import{O as Ht}from"./organiser-multi-select-Xx8I2uWv.js";import{O as $t}from"./organiser-placeholder-gvdsGEa8.js";import{A as Jt}from"./app-layout-BEvRyK4E.js";/* empty css            */import"./button-BhYuaT1H.js";import"./index-DkFkwEE9.js";import"./index-C3ympALB.js";import"./index-BDqSilVs.js";function Wt(n){const t=Nt.c(27),{eventId:d}=n;let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={name:"",price:0,quantity_total:0,quantity_available:0,active:!0},t[0]=a):a=t[0];const o=Re(a);let s;t[1]!==d||t[2]!==o?(s=E=>{E.preventDefault(),o.post(`/events/${d}/tickets`,{onSuccess:()=>{o.reset("name","price","quantity_total","quantity_available","active")}})},t[1]=d,t[2]=o,t[3]=s):s=t[3];const u=s;let m;t[4]!==o?(m=E=>o.setData("name",E.target.value),t[4]=o,t[5]=m):m=t[5];let h;t[6]!==o.data.name||t[7]!==m?(h=y.jsx("input",{placeholder:"Name",value:o.data.name,onChange:m,className:"flex-1"}),t[6]=o.data.name,t[7]=m,t[8]=h):h=t[8];const r=String(o.data.price);let v;t[9]!==o?(v=E=>o.setData("price",parseFloat(E.target.value||"0")),t[9]=o,t[10]=v):v=t[10];let x;t[11]!==r||t[12]!==v?(x=y.jsx("input",{type:"number",placeholder:"Price",value:r,onChange:v,className:"w-28"}),t[11]=r,t[12]=v,t[13]=x):x=t[13];const C=String(o.data.quantity_total);let g;t[14]!==o?(g=E=>o.setData("quantity_total",parseInt(E.target.value||"0",10)),t[14]=o,t[15]=g):g=t[15];let p;t[16]!==C||t[17]!==g?(p=y.jsx("input",{type:"number",placeholder:"Total",value:C,onChange:g,className:"w-28"}),t[16]=C,t[17]=g,t[18]=p):p=t[18];let R;t[19]===Symbol.for("react.memo_cache_sentinel")?(R=y.jsx("button",{type:"submit",className:"btn",children:"Create"}),t[19]=R):R=t[19];let b;t[20]!==p||t[21]!==h||t[22]!==x?(b=y.jsxs("div",{className:"flex gap-2",children:[h,x,p,R]}),t[20]=p,t[21]=h,t[22]=x,t[23]=b):b=t[23];let w;return t[24]!==u||t[25]!==b?(w=y.jsx("form",{onSubmit:u,className:"mt-2",children:b}),t[24]=u,t[25]=b,t[26]=w):w=t[26],w}var Q={},K={exports:{}},Z,Qe;function At(){return Qe||(Qe=1,Z=function(t,d){return function(){for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];return t.apply(d,o)}}),Z}var ee,Ze;function M(){if(Ze)return ee;Ze=1;var n=At(),t=Object.prototype.toString;function d(e){return t.call(e)==="[object Array]"}function a(e){return typeof e>"u"}function o(e){return e!==null&&!a(e)&&e.constructor!==null&&!a(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function s(e){return t.call(e)==="[object ArrayBuffer]"}function u(e){return typeof FormData<"u"&&e instanceof FormData}function m(e){var i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(e):i=e&&e.buffer&&e.buffer instanceof ArrayBuffer,i}function h(e){return typeof e=="string"}function r(e){return typeof e=="number"}function v(e){return e!==null&&typeof e=="object"}function x(e){if(t.call(e)!=="[object Object]")return!1;var i=Object.getPrototypeOf(e);return i===null||i===Object.prototype}function C(e){return t.call(e)==="[object Date]"}function g(e){return t.call(e)==="[object File]"}function p(e){return t.call(e)==="[object Blob]"}function R(e){return t.call(e)==="[object Function]"}function b(e){return v(e)&&R(e.pipe)}function w(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function E(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function O(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function T(e,i){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),d(e))for(var l=0,S=e.length;l<S;l++)i.call(null,e[l],l,e);else for(var j in e)Object.prototype.hasOwnProperty.call(e,j)&&i.call(null,e[j],j,e)}function L(){var e={};function i(j,N){x(e[N])&&x(j)?e[N]=L(e[N],j):x(j)?e[N]=L({},j):d(j)?e[N]=j.slice():e[N]=j}for(var l=0,S=arguments.length;l<S;l++)T(arguments[l],i);return e}function f(e,i,l){return T(i,function(j,N){l&&typeof j=="function"?e[N]=n(j,l):e[N]=j}),e}function c(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}return ee={isArray:d,isArrayBuffer:s,isBuffer:o,isFormData:u,isArrayBufferView:m,isString:h,isNumber:r,isObject:v,isPlainObject:x,isUndefined:a,isDate:C,isFile:g,isBlob:p,isFunction:R,isStream:b,isURLSearchParams:w,isStandardBrowserEnv:O,forEach:T,merge:L,extend:f,trim:E,stripBOM:c},ee}var te,et;function Tt(){if(et)return te;et=1;var n=M();function t(d){return encodeURIComponent(d).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return te=function(a,o,s){if(!o)return a;var u;if(s)u=s(o);else if(n.isURLSearchParams(o))u=o.toString();else{var m=[];n.forEach(o,function(v,x){v===null||typeof v>"u"||(n.isArray(v)?x=x+"[]":v=[v],n.forEach(v,function(g){n.isDate(g)?g=g.toISOString():n.isObject(g)&&(g=JSON.stringify(g)),m.push(t(x)+"="+t(g))}))}),u=m.join("&")}if(u){var h=a.indexOf("#");h!==-1&&(a=a.slice(0,h)),a+=(a.indexOf("?")===-1?"?":"&")+u}return a},te}var re,tt;function Xt(){if(tt)return re;tt=1;var n=M();function t(){this.handlers=[]}return t.prototype.use=function(a,o,s){return this.handlers.push({fulfilled:a,rejected:o,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},t.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)},t.prototype.forEach=function(a){n.forEach(this.handlers,function(s){s!==null&&a(s)})},re=t,re}var ne,rt;function Kt(){if(rt)return ne;rt=1;var n=M();return ne=function(d,a){n.forEach(d,function(s,u){u!==a&&u.toUpperCase()===a.toUpperCase()&&(d[a]=s,delete d[u])})},ne}var ie,nt;function Pt(){return nt||(nt=1,ie=function(t,d,a,o,s){return t.config=d,a&&(t.code=a),t.request=o,t.response=s,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}),ie}var ae,it;function Lt(){if(it)return ae;it=1;var n=Pt();return ae=function(d,a,o,s,u){var m=new Error(d);return n(m,a,o,s,u)},ae}var se,at;function zt(){if(at)return se;at=1;var n=Lt();return se=function(d,a,o){var s=o.config.validateStatus;!o.status||!s||s(o.status)?d(o):a(n("Request failed with status code "+o.status,o.config,null,o.request,o))},se}var oe,st;function Gt(){if(st)return oe;st=1;var n=M();return oe=n.isStandardBrowserEnv()?(function(){return{write:function(a,o,s,u,m,h){var r=[];r.push(a+"="+encodeURIComponent(o)),n.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),n.isString(u)&&r.push("path="+u),n.isString(m)&&r.push("domain="+m),h===!0&&r.push("secure"),document.cookie=r.join("; ")},read:function(a){var o=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}})():(function(){return{write:function(){},read:function(){return null},remove:function(){}}})(),oe}var ue,ot;function Yt(){return ot||(ot=1,ue=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),ue}var le,ut;function Qt(){return ut||(ut=1,le=function(t,d){return d?t.replace(/\/+$/,"")+"/"+d.replace(/^\/+/,""):t}),le}var ce,lt;function Zt(){if(lt)return ce;lt=1;var n=Yt(),t=Qt();return ce=function(a,o){return a&&!n(o)?t(a,o):o},ce}var de,ct;function er(){if(ct)return de;ct=1;var n=M(),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return de=function(a){var o={},s,u,m;return a&&n.forEach(a.split(`
`),function(r){if(m=r.indexOf(":"),s=n.trim(r.substr(0,m)).toLowerCase(),u=n.trim(r.substr(m+1)),s){if(o[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?o[s]=(o[s]?o[s]:[]).concat([u]):o[s]=o[s]?o[s]+", "+u:u}}),o},de}var fe,dt;function tr(){if(dt)return fe;dt=1;var n=M();return fe=n.isStandardBrowserEnv()?(function(){var d=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),o;function s(u){var m=u;return d&&(a.setAttribute("href",m),m=a.href),a.setAttribute("href",m),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return o=s(window.location.href),function(m){var h=n.isString(m)?s(m):m;return h.protocol===o.protocol&&h.host===o.host}})():(function(){return function(){return!0}})(),fe}var he,ft;function ht(){if(ft)return he;ft=1;var n=M(),t=zt(),d=Gt(),a=Tt(),o=Zt(),s=er(),u=tr(),m=Lt();return he=function(r){return new Promise(function(x,C){var g=r.data,p=r.headers,R=r.responseType;n.isFormData(g)&&delete p["Content-Type"];var b=new XMLHttpRequest;if(r.auth){var w=r.auth.username||"",E=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";p.Authorization="Basic "+btoa(w+":"+E)}var O=o(r.baseURL,r.url);b.open(r.method.toUpperCase(),a(O,r.params,r.paramsSerializer),!0),b.timeout=r.timeout;function T(){if(b){var f="getAllResponseHeaders"in b?s(b.getAllResponseHeaders()):null,c=!R||R==="text"||R==="json"?b.responseText:b.response,e={data:c,status:b.status,statusText:b.statusText,headers:f,config:r,request:b};t(x,C,e),b=null}}if("onloadend"in b?b.onloadend=T:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(T)},b.onabort=function(){b&&(C(m("Request aborted",r,"ECONNABORTED",b)),b=null)},b.onerror=function(){C(m("Network Error",r,null,b)),b=null},b.ontimeout=function(){var c="timeout of "+r.timeout+"ms exceeded";r.timeoutErrorMessage&&(c=r.timeoutErrorMessage),C(m(c,r,r.transitional&&r.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},n.isStandardBrowserEnv()){var L=(r.withCredentials||u(O))&&r.xsrfCookieName?d.read(r.xsrfCookieName):void 0;L&&(p[r.xsrfHeaderName]=L)}"setRequestHeader"in b&&n.forEach(p,function(c,e){typeof g>"u"&&e.toLowerCase()==="content-type"?delete p[e]:b.setRequestHeader(e,c)}),n.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),R&&R!=="json"&&(b.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&b.addEventListener("progress",r.onDownloadProgress),typeof r.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",r.onUploadProgress),r.cancelToken&&r.cancelToken.promise.then(function(c){b&&(b.abort(),C(c),b=null)}),g||(g=null),b.send(g)})},he}var pe,pt;function qe(){if(pt)return pe;pt=1;var n=M(),t=Kt(),d=Pt(),a={"Content-Type":"application/x-www-form-urlencoded"};function o(h,r){!n.isUndefined(h)&&n.isUndefined(h["Content-Type"])&&(h["Content-Type"]=r)}function s(){var h;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(h=ht()),h}function u(h,r,v){if(n.isString(h))try{return(r||JSON.parse)(h),n.trim(h)}catch(x){if(x.name!=="SyntaxError")throw x}return(v||JSON.stringify)(h)}var m={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:s(),transformRequest:[function(r,v){return t(v,"Accept"),t(v,"Content-Type"),n.isFormData(r)||n.isArrayBuffer(r)||n.isBuffer(r)||n.isStream(r)||n.isFile(r)||n.isBlob(r)?r:n.isArrayBufferView(r)?r.buffer:n.isURLSearchParams(r)?(o(v,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):n.isObject(r)||v&&v["Content-Type"]==="application/json"?(o(v,"application/json"),u(r)):r}],transformResponse:[function(r){var v=this.transitional,x=v&&v.silentJSONParsing,C=v&&v.forcedJSONParsing,g=!x&&this.responseType==="json";if(g||C&&n.isString(r)&&r.length)try{return JSON.parse(r)}catch(p){if(g)throw p.name==="SyntaxError"?d(p,this,"E_JSON_PARSE"):p}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(r){return r>=200&&r<300}};return m.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(r){m.headers[r]={}}),n.forEach(["post","put","patch"],function(r){m.headers[r]=n.merge(a)}),pe=m,pe}var me,mt;function rr(){if(mt)return me;mt=1;var n=M(),t=qe();return me=function(a,o,s){var u=this||t;return n.forEach(s,function(h){a=h.call(u,a,o)}),a},me}var ve,vt;function It(){return vt||(vt=1,ve=function(t){return!!(t&&t.__CANCEL__)}),ve}var ge,gt;function nr(){if(gt)return ge;gt=1;var n=M(),t=rr(),d=It(),a=qe();function o(s){s.cancelToken&&s.cancelToken.throwIfRequested()}return ge=function(u){o(u),u.headers=u.headers||{},u.data=t.call(u,u.data,u.headers,u.transformRequest),u.headers=n.merge(u.headers.common||{},u.headers[u.method]||{},u.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(r){delete u.headers[r]});var m=u.adapter||a.adapter;return m(u).then(function(r){return o(u),r.data=t.call(u,r.data,r.headers,u.transformResponse),r},function(r){return d(r)||(o(u),r&&r.response&&(r.response.data=t.call(u,r.response.data,r.response.headers,u.transformResponse))),Promise.reject(r)})},ge}var ye,yt;function Dt(){if(yt)return ye;yt=1;var n=M();return ye=function(d,a){a=a||{};var o={},s=["url","method","data"],u=["headers","auth","proxy","params"],m=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],h=["validateStatus"];function r(g,p){return n.isPlainObject(g)&&n.isPlainObject(p)?n.merge(g,p):n.isPlainObject(p)?n.merge({},p):n.isArray(p)?p.slice():p}function v(g){n.isUndefined(a[g])?n.isUndefined(d[g])||(o[g]=r(void 0,d[g])):o[g]=r(d[g],a[g])}n.forEach(s,function(p){n.isUndefined(a[p])||(o[p]=r(void 0,a[p]))}),n.forEach(u,v),n.forEach(m,function(p){n.isUndefined(a[p])?n.isUndefined(d[p])||(o[p]=r(void 0,d[p])):o[p]=r(void 0,a[p])}),n.forEach(h,function(p){p in a?o[p]=r(d[p],a[p]):p in d&&(o[p]=r(void 0,d[p]))});var x=s.concat(u).concat(m).concat(h),C=Object.keys(d).concat(Object.keys(a)).filter(function(p){return x.indexOf(p)===-1});return n.forEach(C,v),o},ye}const ir="0.21.4",ar={version:ir};var be,bt;function sr(){if(bt)return be;bt=1;var n=ar,t={};["object","boolean","number","function","string","symbol"].forEach(function(u,m){t[u]=function(r){return typeof r===u||"a"+(m<1?"n ":" ")+u}});var d={},a=n.version.split(".");function o(u,m){for(var h=m?m.split("."):a,r=u.split("."),v=0;v<3;v++){if(h[v]>r[v])return!0;if(h[v]<r[v])return!1}return!1}t.transitional=function(m,h,r){var v=h&&o(h);function x(C,g){return"[Axios v"+n.version+"] Transitional option '"+C+"'"+g+(r?". "+r:"")}return function(C,g,p){if(m===!1)throw new Error(x(g," has been removed in "+h));return v&&!d[g]&&(d[g]=!0,console.warn(x(g," has been deprecated since v"+h+" and will be removed in the near future"))),m?m(C,g,p):!0}};function s(u,m,h){if(typeof u!="object")throw new TypeError("options must be an object");for(var r=Object.keys(u),v=r.length;v-- >0;){var x=r[v],C=m[x];if(C){var g=u[x],p=g===void 0||C(g,x,u);if(p!==!0)throw new TypeError("option "+x+" must be "+p);continue}if(h!==!0)throw Error("Unknown option "+x)}}return be={isOlderVersion:o,assertOptions:s,validators:t},be}var we,wt;function or(){if(wt)return we;wt=1;var n=M(),t=Tt(),d=Xt(),a=nr(),o=Dt(),s=sr(),u=s.validators;function m(h){this.defaults=h,this.interceptors={request:new d,response:new d}}return m.prototype.request=function(r){typeof r=="string"?(r=arguments[1]||{},r.url=arguments[0]):r=r||{},r=o(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var v=r.transitional;v!==void 0&&s.assertOptions(v,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var x=[],C=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(r)===!1||(C=C&&T.synchronous,x.unshift(T.fulfilled,T.rejected))});var g=[];this.interceptors.response.forEach(function(T){g.push(T.fulfilled,T.rejected)});var p;if(!C){var R=[a,void 0];for(Array.prototype.unshift.apply(R,x),R=R.concat(g),p=Promise.resolve(r);R.length;)p=p.then(R.shift(),R.shift());return p}for(var b=r;x.length;){var w=x.shift(),E=x.shift();try{b=w(b)}catch(O){E(O);break}}try{p=a(b)}catch(O){return Promise.reject(O)}for(;g.length;)p=p.then(g.shift(),g.shift());return p},m.prototype.getUri=function(r){return r=o(this.defaults,r),t(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(r){m.prototype[r]=function(v,x){return this.request(o(x||{},{method:r,url:v,data:(x||{}).data}))}}),n.forEach(["post","put","patch"],function(r){m.prototype[r]=function(v,x,C){return this.request(o(C||{},{method:r,url:v,data:x}))}}),we=m,we}var Se,St;function _t(){if(St)return Se;St=1;function n(t){this.message=t}return n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,Se=n,Se}var xe,xt;function ur(){if(xt)return xe;xt=1;var n=_t();function t(d){if(typeof d!="function")throw new TypeError("executor must be a function.");var a;this.promise=new Promise(function(u){a=u});var o=this;d(function(u){o.reason||(o.reason=new n(u),a(o.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.source=function(){var a,o=new t(function(u){a=u});return{token:o,cancel:a}},xe=t,xe}var Ee,Et;function lr(){return Et||(Et=1,Ee=function(t){return function(a){return t.apply(null,a)}}),Ee}var je,jt;function cr(){return jt||(jt=1,je=function(t){return typeof t=="object"&&t.isAxiosError===!0}),je}var Ot;function dr(){if(Ot)return K.exports;Ot=1;var n=M(),t=At(),d=or(),a=Dt(),o=qe();function s(m){var h=new d(m),r=t(d.prototype.request,h);return n.extend(r,d.prototype,h),n.extend(r,h),r}var u=s(o);return u.Axios=d,u.create=function(h){return s(a(u.defaults,h))},u.Cancel=_t(),u.CancelToken=ur(),u.isCancel=It(),u.all=function(h){return Promise.all(h)},u.spread=lr(),u.isAxiosError=cr(),K.exports=u,K.exports.default=u,K.exports}var Oe,Ct;function fr(){return Ct||(Ct=1,Oe=dr()),Oe}var Ce,Rt;function hr(){if(Rt)return Ce;Rt=1;var n=function(E){return t(E)&&!d(E)};function t(w){return!!w&&typeof w=="object"}function d(w){var E=Object.prototype.toString.call(w);return E==="[object RegExp]"||E==="[object Date]"||s(w)}var a=typeof Symbol=="function"&&Symbol.for,o=a?Symbol.for("react.element"):60103;function s(w){return w.$$typeof===o}function u(w){return Array.isArray(w)?[]:{}}function m(w,E){return E.clone!==!1&&E.isMergeableObject(w)?R(u(w),w,E):w}function h(w,E,O){return w.concat(E).map(function(T){return m(T,O)})}function r(w,E){if(!E.customMerge)return R;var O=E.customMerge(w);return typeof O=="function"?O:R}function v(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(E){return Object.propertyIsEnumerable.call(w,E)}):[]}function x(w){return Object.keys(w).concat(v(w))}function C(w,E){try{return E in w}catch{return!1}}function g(w,E){return C(w,E)&&!(Object.hasOwnProperty.call(w,E)&&Object.propertyIsEnumerable.call(w,E))}function p(w,E,O){var T={};return O.isMergeableObject(w)&&x(w).forEach(function(L){T[L]=m(w[L],O)}),x(E).forEach(function(L){g(w,L)||(C(w,L)&&O.isMergeableObject(E[L])?T[L]=r(L,O)(w[L],E[L],O):T[L]=m(E[L],O))}),T}function R(w,E,O){O=O||{},O.arrayMerge=O.arrayMerge||h,O.isMergeableObject=O.isMergeableObject||n,O.cloneUnlessOtherwiseSpecified=m;var T=Array.isArray(E),L=Array.isArray(w),f=T===L;return f?T?O.arrayMerge(w,E,O):p(w,E,O):m(E,O)}R.all=function(E,O){if(!Array.isArray(E))throw new Error("first argument should be an array");return E.reduce(function(T,L){return R(T,L,O)},{})};var b=R;return Ce=b,Ce}var qt;function pr(){return qt||(qt=1,(function(n){function t(f){return f&&typeof f=="object"&&"default"in f?f.default:f}var d=t(fr()),a=Bt(),o=t(hr());function s(){return(s=Object.assign?Object.assign.bind():function(f){for(var c=1;c<arguments.length;c++){var e=arguments[c];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(f[i]=e[i])}return f}).apply(this,arguments)}var u,m={modal:null,listener:null,show:function(f){var c=this;typeof f=="object"&&(f="All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>"+JSON.stringify(f));var e=document.createElement("html");e.innerHTML=f,e.querySelectorAll("a").forEach(function(l){return l.setAttribute("target","_top")}),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",function(){return c.hide()});var i=document.createElement("iframe");if(i.style.backgroundColor="white",i.style.borderRadius="5px",i.style.width="100%",i.style.height="100%",this.modal.appendChild(i),document.body.prepend(this.modal),document.body.style.overflow="hidden",!i.contentWindow)throw new Error("iframe not yet ready.");i.contentWindow.document.open(),i.contentWindow.document.write(e.outerHTML),i.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide:function(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape:function(f){f.keyCode===27&&this.hide()}};function h(f,c){var e;return function(){var i=arguments,l=this;clearTimeout(e),e=setTimeout(function(){return f.apply(l,[].slice.call(i))},c)}}function r(f,c,e){for(var i in c===void 0&&(c=new FormData),e===void 0&&(e=null),f=f||{})Object.prototype.hasOwnProperty.call(f,i)&&x(c,v(e,i),f[i]);return c}function v(f,c){return f?f+"["+c+"]":c}function x(f,c,e){return Array.isArray(e)?Array.from(e.keys()).forEach(function(i){return x(f,v(c,i.toString()),e[i])}):e instanceof Date?f.append(c,e.toISOString()):e instanceof File?f.append(c,e,e.name):e instanceof Blob?f.append(c,e):typeof e=="boolean"?f.append(c,e?"1":"0"):typeof e=="string"?f.append(c,e):typeof e=="number"?f.append(c,""+e):e==null?f.append(c,""):void r(e,f,c)}function C(f){return new URL(f.toString(),window.location.toString())}function g(f,c,e,i){i===void 0&&(i="brackets");var l=/^https?:\/\//.test(c.toString()),S=l||c.toString().startsWith("/"),j=!S&&!c.toString().startsWith("#")&&!c.toString().startsWith("?"),N=c.toString().includes("?")||f===n.Method.GET&&Object.keys(e).length,q=c.toString().includes("#"),A=new URL(c.toString(),"http://localhost");return f===n.Method.GET&&Object.keys(e).length&&(A.search=a.stringify(o(a.parse(A.search,{ignoreQueryPrefix:!0}),e),{encodeValuesOnly:!0,arrayFormat:i}),e={}),[[l?A.protocol+"//"+A.host:"",S?A.pathname:"",j?A.pathname.substring(1):"",N?A.search:"",q?A.hash:""].join(""),e]}function p(f){return(f=new URL(f.href)).hash="",f}function R(f,c){return document.dispatchEvent(new CustomEvent("inertia:"+f,c))}(u=n.Method||(n.Method={})).GET="get",u.POST="post",u.PUT="put",u.PATCH="patch",u.DELETE="delete";var b=function(f){return R("finish",{detail:{visit:f}})},w=function(f){return R("navigate",{detail:{page:f}})},E=typeof window>"u",O=(function(){function f(){this.visitId=null}var c=f.prototype;return c.init=function(e){var i=e.resolveComponent,l=e.swapComponent;this.page=e.initialPage,this.resolveComponent=i,this.swapComponent=l,this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()},c.handleInitialPageVisit=function(e){this.page.url+=window.location.hash,this.setPage(e,{preserveState:!0}).then(function(){return w(e)})},c.setupEventListeners=function(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",h(this.handleScrollEvent.bind(this),100),!0)},c.scrollRegions=function(){return document.querySelectorAll("[scroll-region]")},c.handleScrollEvent=function(e){typeof e.target.hasAttribute=="function"&&e.target.hasAttribute("scroll-region")&&this.saveScrollPositions()},c.saveScrollPositions=function(){this.replaceState(s({},this.page,{scrollRegions:Array.from(this.scrollRegions()).map(function(e){return{top:e.scrollTop,left:e.scrollLeft}})}))},c.resetScrollPositions=function(){var e;window.scrollTo(0,0),this.scrollRegions().forEach(function(i){typeof i.scrollTo=="function"?i.scrollTo(0,0):(i.scrollTop=0,i.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&((e=document.getElementById(window.location.hash.slice(1)))==null||e.scrollIntoView())},c.restoreScrollPositions=function(){var e=this;this.page.scrollRegions&&this.scrollRegions().forEach(function(i,l){var S=e.page.scrollRegions[l];S&&(typeof i.scrollTo=="function"?i.scrollTo(S.left,S.top):(i.scrollTop=S.top,i.scrollLeft=S.left))})},c.isBackForwardVisit=function(){return window.history.state&&window.performance&&window.performance.getEntriesByType("navigation").length>0&&window.performance.getEntriesByType("navigation")[0].type==="back_forward"},c.handleBackForwardVisit=function(e){var i=this;window.history.state.version=e.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(function(){i.restoreScrollPositions(),w(e)})},c.locationVisit=function(e,i){try{window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify({preserveScroll:i})),window.location.href=e.href,p(window.location).href===p(e).href&&window.location.reload()}catch{return!1}},c.isLocationVisit=function(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}},c.handleLocationVisit=function(e){var i,l,S,j,N=this,q=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),e.url+=window.location.hash,e.rememberedState=(i=(l=window.history.state)==null?void 0:l.rememberedState)!=null?i:{},e.scrollRegions=(S=(j=window.history.state)==null?void 0:j.scrollRegions)!=null?S:[],this.setPage(e,{preserveScroll:q.preserveScroll,preserveState:!0}).then(function(){q.preserveScroll&&N.restoreScrollPositions(),w(e)})},c.isLocationVisitResponse=function(e){return e&&e.status===409&&e.headers["x-inertia-location"]},c.isInertiaResponse=function(e){return e?.headers["x-inertia"]},c.createVisitId=function(){return this.visitId={},this.visitId},c.cancelVisit=function(e,i){var l=i.cancelled,S=l!==void 0&&l,j=i.interrupted,N=j!==void 0&&j;!e||e.completed||e.cancelled||e.interrupted||(e.cancelToken.cancel(),e.onCancel(),e.completed=!1,e.cancelled=S,e.interrupted=N,b(e),e.onFinish(e))},c.finishVisit=function(e){e.cancelled||e.interrupted||(e.completed=!0,e.cancelled=!1,e.interrupted=!1,b(e),e.onFinish(e))},c.resolvePreserveOption=function(e,i){return typeof e=="function"?e(i):e==="errors"?Object.keys(i.props.errors||{}).length>0:e},c.visit=function(e,i){var l=this,S=i===void 0?{}:i,j=S.method,N=j===void 0?n.Method.GET:j,q=S.data,A=q===void 0?{}:q,_=S.replace,U=_!==void 0&&_,V=S.preserveScroll,k=V!==void 0&&V,$=S.preserveState,J=$!==void 0&&$,Ne=S.only,W=Ne===void 0?[]:Ne,Ae=S.headers,Te=Ae===void 0?{}:Ae,Pe=S.errorBag,B=Pe===void 0?"":Pe,Le=S.forceFormData,Ie=Le!==void 0&&Le,De=S.onCancelToken,_e=De===void 0?function(){}:De,Me=S.onBefore,Ue=Me===void 0?function(){}:Me,ke=S.onStart,Be=ke===void 0?function(){}:ke,Fe=S.onProgress,Ve=Fe===void 0?function(){}:Fe,He=S.onFinish,Mt=He===void 0?function(){}:He,$e=S.onCancel,Ut=$e===void 0?function(){}:$e,Je=S.onSuccess,We=Je===void 0?function(){}:Je,Xe=S.onError,Ke=Xe===void 0?function(){}:Xe,ze=S.queryStringArrayFormat,z=ze===void 0?"brackets":ze,F=typeof e=="string"?C(e):e;if(!(function P(I){return I instanceof File||I instanceof Blob||I instanceof FileList&&I.length>0||I instanceof FormData&&Array.from(I.values()).some(function(D){return P(D)})||typeof I=="object"&&I!==null&&Object.values(I).some(function(D){return P(D)})})(A)&&!Ie||A instanceof FormData||(A=r(A)),!(A instanceof FormData)){var Ge=g(N,F,A,z),kt=Ge[1];F=C(Ge[0]),A=kt}var H={url:F,method:N,data:A,replace:U,preserveScroll:k,preserveState:J,only:W,headers:Te,errorBag:B,forceFormData:Ie,queryStringArrayFormat:z,cancelled:!1,completed:!1,interrupted:!1};if(Ue(H)!==!1&&(function(P){return R("before",{cancelable:!0,detail:{visit:P}})})(H)){this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();var Ye=this.createVisitId();this.activeVisit=s({},H,{onCancelToken:_e,onBefore:Ue,onStart:Be,onProgress:Ve,onFinish:Mt,onCancel:Ut,onSuccess:We,onError:Ke,queryStringArrayFormat:z,cancelToken:d.CancelToken.source()}),_e({cancel:function(){l.activeVisit&&l.cancelVisit(l.activeVisit,{cancelled:!0})}}),(function(P){R("start",{detail:{visit:P}})})(H),Be(H),d({method:N,url:p(F).href,data:N===n.Method.GET?{}:A,params:N===n.Method.GET?A:{},cancelToken:this.activeVisit.cancelToken.token,headers:s({},Te,{Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0},W.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":W.join(",")}:{},B&&B.length?{"X-Inertia-Error-Bag":B}:{},this.page.version?{"X-Inertia-Version":this.page.version}:{}),onUploadProgress:function(P){A instanceof FormData&&(P.percentage=Math.round(P.loaded/P.total*100),(function(I){R("progress",{detail:{progress:I}})})(P),Ve(P))}}).then(function(P){var I;if(!l.isInertiaResponse(P))return Promise.reject({response:P});var D=P.data;W.length&&D.component===l.page.component&&(D.props=s({},l.page.props,D.props)),k=l.resolvePreserveOption(k,D),(J=l.resolvePreserveOption(J,D))&&(I=window.history.state)!=null&&I.rememberedState&&D.component===l.page.component&&(D.rememberedState=window.history.state.rememberedState);var G=F,X=C(D.url);return G.hash&&!X.hash&&p(G).href===X.href&&(X.hash=G.hash,D.url=X.href),l.setPage(D,{visitId:Ye,replace:U,preserveScroll:k,preserveState:J})}).then(function(){var P=l.page.props.errors||{};if(Object.keys(P).length>0){var I=B?P[B]?P[B]:{}:P;return(function(D){R("error",{detail:{errors:D}})})(I),Ke(I)}return R("success",{detail:{page:l.page}}),We(l.page)}).catch(function(P){if(l.isInertiaResponse(P.response))return l.setPage(P.response.data,{visitId:Ye});if(l.isLocationVisitResponse(P.response)){var I=C(P.response.headers["x-inertia-location"]),D=F;D.hash&&!I.hash&&p(D).href===I.href&&(I.hash=D.hash),l.locationVisit(I,k===!0)}else{if(!P.response)return Promise.reject(P);R("invalid",{cancelable:!0,detail:{response:P.response}})&&m.show(P.response.data)}}).then(function(){l.activeVisit&&l.finishVisit(l.activeVisit)}).catch(function(P){if(!d.isCancel(P)){var I=R("exception",{cancelable:!0,detail:{exception:P}});if(l.activeVisit&&l.finishVisit(l.activeVisit),I)return Promise.reject(P)}})}},c.setPage=function(e,i){var l=this,S=i===void 0?{}:i,j=S.visitId,N=j===void 0?this.createVisitId():j,q=S.replace,A=q!==void 0&&q,_=S.preserveScroll,U=_!==void 0&&_,V=S.preserveState,k=V!==void 0&&V;return Promise.resolve(this.resolveComponent(e.component)).then(function($){N===l.visitId&&(e.scrollRegions=e.scrollRegions||[],e.rememberedState=e.rememberedState||{},(A=A||C(e.url).href===window.location.href)?l.replaceState(e):l.pushState(e),l.swapComponent({component:$,page:e,preserveState:k}).then(function(){U||l.resetScrollPositions(),A||w(e)}))})},c.pushState=function(e){this.page=e,window.history.pushState(e,"",e.url)},c.replaceState=function(e){this.page=e,window.history.replaceState(e,"",e.url)},c.handlePopstateEvent=function(e){var i=this;if(e.state!==null){var l=e.state,S=this.createVisitId();Promise.resolve(this.resolveComponent(l.component)).then(function(N){S===i.visitId&&(i.page=l,i.swapComponent({component:N,page:l,preserveState:!1}).then(function(){i.restoreScrollPositions(),w(l)}))})}else{var j=C(this.page.url);j.hash=window.location.hash,this.replaceState(s({},this.page,{url:j.href})),this.resetScrollPositions()}},c.get=function(e,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),this.visit(e,s({},l,{method:n.Method.GET,data:i}))},c.reload=function(e){return e===void 0&&(e={}),this.visit(window.location.href,s({},e,{preserveScroll:!0,preserveState:!0}))},c.replace=function(e,i){var l;return i===void 0&&(i={}),console.warn("Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia."+((l=i.method)!=null?l:"get")+"() instead."),this.visit(e,s({preserveState:!0},i,{replace:!0}))},c.post=function(e,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),this.visit(e,s({preserveState:!0},l,{method:n.Method.POST,data:i}))},c.put=function(e,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),this.visit(e,s({preserveState:!0},l,{method:n.Method.PUT,data:i}))},c.patch=function(e,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),this.visit(e,s({preserveState:!0},l,{method:n.Method.PATCH,data:i}))},c.delete=function(e,i){return i===void 0&&(i={}),this.visit(e,s({preserveState:!0},i,{method:n.Method.DELETE}))},c.remember=function(e,i){var l,S;i===void 0&&(i="default"),E||this.replaceState(s({},this.page,{rememberedState:s({},(l=this.page)==null?void 0:l.rememberedState,(S={},S[i]=e,S))}))},c.restore=function(e){var i,l;if(e===void 0&&(e="default"),!E)return(i=window.history.state)==null||(l=i.rememberedState)==null?void 0:l[e]},c.on=function(e,i){var l=function(S){var j=i(S);S.cancelable&&!S.defaultPrevented&&j===!1&&S.preventDefault()};return document.addEventListener("inertia:"+e,l),function(){return document.removeEventListener("inertia:"+e,l)}},f})(),T={buildDOMElement:function(f){var c=document.createElement("template");c.innerHTML=f;var e=c.content.firstChild;if(!f.startsWith("<script "))return e;var i=document.createElement("script");return i.innerHTML=e.innerHTML,e.getAttributeNames().forEach(function(l){i.setAttribute(l,e.getAttribute(l)||"")}),i},isInertiaManagedElement:function(f){return f.nodeType===Node.ELEMENT_NODE&&f.getAttribute("inertia")!==null},findMatchingElementIndex:function(f,c){var e=f.getAttribute("inertia");return e!==null?c.findIndex(function(i){return i.getAttribute("inertia")===e}):-1},update:h(function(f){var c=this,e=f.map(function(i){return c.buildDOMElement(i)});Array.from(document.head.childNodes).filter(function(i){return c.isInertiaManagedElement(i)}).forEach(function(i){var l=c.findMatchingElementIndex(i,e);if(l!==-1){var S,j=e.splice(l,1)[0];j&&!i.isEqualNode(j)&&(i==null||(S=i.parentNode)==null||S.replaceChild(j,i))}else{var N;i==null||(N=i.parentNode)==null||N.removeChild(i)}}),e.forEach(function(i){return document.head.appendChild(i)})},1)},L=new O;n.Inertia=L,n.createHeadManager=function(f,c,e){var i={},l=0;function S(){var N=Object.values(i).reduce(function(q,A){return q.concat(A)},[]).reduce(function(q,A){if(A.indexOf("<")===-1)return q;if(A.indexOf("<title ")===0){var _=A.match(/(<title [^>]+>)(.*?)(<\/title>)/);return q.title=_?""+_[1]+c(_[2])+_[3]:A,q}var U=A.match(/ inertia="[^"]+"/);return U?q[U[0]]=A:q[Object.keys(q).length]=A,q},{});return Object.values(N)}function j(){f?e(S()):T.update(S())}return{createProvider:function(){var N=(function(){var q=l+=1;return i[q]=[],q.toString()})();return{update:function(q){return(function(A,_){_===void 0&&(_=[]),A!==null&&Object.keys(i).indexOf(A)>-1&&(i[A]=_),j()})(N,q)},disconnect:function(){return(function(q){q!==null&&Object.keys(i).indexOf(q)!==-1&&(delete i[q],j())})(N)}}}}},n.hrefToUrl=C,n.mergeDataIntoQueryString=g,n.shouldIntercept=function(f){var c=f.currentTarget.tagName.toLowerCase()==="a";return!(f.target&&f!=null&&f.target.isContentEditable||f.defaultPrevented||c&&f.which>1||c&&f.altKey||c&&f.ctrlKey||c&&f.metaKey||c&&f.shiftKey)},n.urlWithoutHash=p})(Q)),Q}var mr=pr();function vr(n){const t=Nt.c(57),{eventId:d,ticket:a}=n;let o;t[0]!==a.active||t[1]!==a.name||t[2]!==a.price||t[3]!==a.quantity_available||t[4]!==a.quantity_total?(o={name:a.name,price:a.price,quantity_total:a.quantity_total,quantity_available:a.quantity_available,active:a.active},t[0]=a.active,t[1]=a.name,t[2]=a.price,t[3]=a.quantity_available,t[4]=a.quantity_total,t[5]=o):o=t[5];const s=Re(o);let u;t[6]!==d||t[7]!==s||t[8]!==a.id?(u=q=>{q.preventDefault(),s.put(`/events/${d}/tickets/${a.id}`)},t[6]=d,t[7]=s,t[8]=a.id,t[9]=u):u=t[9];const m=u;let h;t[10]!==d||t[11]!==a.id?(h=()=>{confirm("Delete this ticket?")&&mr.Inertia.delete(`/events/${d}/tickets/${a.id}`)},t[10]=d,t[11]=a.id,t[12]=h):h=t[12];const r=h;let v;t[13]!==s?(v=q=>s.setData("name",q.target.value),t[13]=s,t[14]=v):v=t[14];let x;t[15]!==s.data.name||t[16]!==v?(x=y.jsx("input",{value:s.data.name,onChange:v,className:"w-full"}),t[15]=s.data.name,t[16]=v,t[17]=x):x=t[17];const C=String(s.data.price);let g;t[18]!==s?(g=q=>s.setData("price",parseFloat(q.target.value||"0")),t[18]=s,t[19]=g):g=t[19];let p;t[20]!==C||t[21]!==g?(p=y.jsx("input",{type:"number",value:C,onChange:g,className:"w-24"}),t[20]=C,t[21]=g,t[22]=p):p=t[22];const R=String(s.data.quantity_total);let b;t[23]!==s?(b=q=>s.setData("quantity_total",parseInt(q.target.value||"0",10)),t[23]=s,t[24]=b):b=t[24];let w;t[25]!==b||t[26]!==R?(w=y.jsx("input",{type:"number",value:R,onChange:b,className:"w-24"}),t[25]=b,t[26]=R,t[27]=w):w=t[27];const E=String(s.data.quantity_available);let O;t[28]!==s?(O=q=>s.setData("quantity_available",parseInt(q.target.value||"0",10)),t[28]=s,t[29]=O):O=t[29];let T;t[30]!==E||t[31]!==O?(T=y.jsx("input",{type:"number",value:E,onChange:O,className:"w-24"}),t[30]=E,t[31]=O,t[32]=T):T=t[32];let L;t[33]!==w||t[34]!==T||t[35]!==p?(L=y.jsxs("div",{className:"flex gap-2 mt-1 text-xs text-muted",children:[p,w,T]}),t[33]=w,t[34]=T,t[35]=p,t[36]=L):L=t[36];let f;t[37]!==L||t[38]!==x?(f=y.jsxs("div",{className:"flex-1",children:[x,L]}),t[37]=L,t[38]=x,t[39]=f):f=t[39];let c;t[40]!==s?(c=q=>s.setData("active",q.target.checked),t[40]=s,t[41]=c):c=t[41];let e;t[42]!==s.data.active||t[43]!==c?(e=y.jsxs("label",{className:"text-sm",children:[y.jsx("input",{type:"checkbox",checked:s.data.active,onChange:c})," Active"]}),t[42]=s.data.active,t[43]=c,t[44]=e):e=t[44];let i;t[45]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx("button",{type:"submit",className:"btn",children:"Save"}),t[45]=i):i=t[45];let l;t[46]!==r?(l=y.jsx("button",{type:"button",onClick:r,className:"btn-ghost",children:"Delete"}),t[46]=r,t[47]=l):l=t[47];let S;t[48]!==e||t[49]!==l?(S=y.jsxs("div",{className:"flex items-center gap-2",children:[e,i,l]}),t[48]=e,t[49]=l,t[50]=S):S=t[50];let j;t[51]!==f||t[52]!==S?(j=y.jsxs("div",{className:"flex gap-4 items-center",children:[f,S]}),t[51]=f,t[52]=S,t[53]=j):j=t[53];let N;return t[54]!==m||t[55]!==j?(N=y.jsx("form",{onSubmit:m,className:"w-full",children:j}),t[54]=m,t[55]=j,t[56]=N):N=t[56],N}function Cr({event:n}){const t=[{title:"Events",href:"/events"},{title:n.title,href:`/events/${n.id}`}],d=Ft(),a=d.props?.auth?.user,o=d.props?.showHomeHeader??!1,s=d.props?.organisers??[],u=Re({organiser_ids:n.organisers?n.organisers.map(r=>r.id):[]});function m(r){r.preventDefault(),u.put(`/events/${n.id}`,{forceFormData:!0})}async function h(r){try{const v=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",x=await fetch("/cart/items",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":v},body:JSON.stringify({ticket_id:r.id,event_id:n.id,quantity:1,price:r.price})});x.ok?window.dispatchEvent(new CustomEvent("cart:updated")):console.error("Failed to add to cart",x.statusText)}catch(v){console.error("Add to cart error",v)}}return y.jsxs(Jt,{breadcrumbs:t,children:[y.jsxs(Vt,{children:[y.jsx("title",{children:n.title}),y.jsx("meta",{name:"description",content:n.description||""}),y.jsx("meta",{property:"og:title",content:n.title}),y.jsx("meta",{property:"og:description",content:n.description||""}),n.image||n.image_thumbnail?y.jsx("meta",{property:"og:image",content:n.image?`/storage/${n.image}`:`/storage/${n.image_thumbnail}`}):null,y.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"Event",name:n.title||void 0,description:n.description||void 0,startDate:n.start_at||void 0,endDate:n.end_at||void 0,url:typeof window<"u"?window.location.href:void 0,image:n.image?`${window.location.origin}/storage/${n.image}`:n.image_thumbnail?`${window.location.origin}/storage/${n.image_thumbnail}`:void 0,location:{"@type":"Place",name:n.location||void 0,address:n.address||(n.city||n.country?`${n.city||""}${n.city&&n.country?", ":""}${n.country||""}`:void 0)},organizer:a&&n.organisers?n.organisers.map(r=>({"@type":"Organization",name:r.name})):void 0})}})]}),y.jsxs("div",{className:o?"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8":"p-4",children:[(()=>{const r=n.image_url??n.image_thumbnail_url??n.image??n.image_thumbnail??"";let v="/images/default-event.svg";r&&(r.startsWith("http")||r.startsWith("/storage/")?v=r:r.startsWith("storage/")?v=`/${r}`:v=`/storage/${r}`);const x=n.updated_at??n.created_at,g=((p,R)=>{if(!R)return p;const b=p.includes("?")?"&":"?";return`${p}${b}v=${encodeURIComponent(R)}`})(v,x);return y.jsx("div",{className:"mb-4",children:y.jsx("img",{src:g,alt:n.title,className:"max-w-full h-auto rounded"})})})(),y.jsx("h1",{className:"text-2xl font-semibold",children:n.title}),y.jsxs("div",{className:"text-sm text-muted",children:[n.location,n.city?` · ${n.city}`:"",n.country?`, ${n.country}`:""]}),y.jsxs("div",{className:"text-sm text-muted mt-2",children:[n.start_at?`Starts: ${new Date(n.start_at).toLocaleString()}`:"Starts: —",n.end_at?` · Ends: ${new Date(n.end_at).toLocaleString()}`:""]}),y.jsxs("div",{className:"text-sm text-muted mt-2",children:["Status: ",n.active?"Active":"Inactive"]}),n.organisers&&n.organisers.length>0&&(a?y.jsxs("div",{className:"text-sm text-muted mt-2",children:["Organisers: ",n.organisers.map(r=>r.name).join(", ")]}):y.jsx($t,{})),y.jsx("div",{className:"mt-4",children:n.description}),d.props?.tickets&&d.props.tickets.length>0&&y.jsxs("div",{className:"mt-6",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Tickets"}),y.jsx("div",{className:"mt-2 space-y-2",children:d.props.tickets.map(r=>y.jsx("div",{className:"border p-2 rounded",children:d.props?.canEdit?y.jsx(vr,{eventId:n.id,ticket:r}):y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:r.name}),y.jsxs("div",{className:"text-sm text-muted",children:[r.quantity_available," / ",r.quantity_total," available"]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"font-medium",children:["$",r.price.toFixed(2)]}),r.active&&r.quantity_available>0?y.jsx("button",{className:"btn mt-2",onClick:()=>h(r),children:"Buy"}):y.jsx("div",{className:"text-xs text-muted mt-2",children:"Sold out"})]})]})},r.id))})]}),d.props?.canEdit&&y.jsxs("div",{className:"mt-4 border-t pt-4",children:[y.jsx("h3",{className:"text-sm font-medium",children:"Create ticket"}),y.jsx(Wt,{eventId:n.id})]}),y.jsxs("div",{className:"mt-4 text-xs text-muted",children:[y.jsxs("div",{children:["Created by: ",n.user?n.user.name??n.user.email:"—"]}),y.jsxs("div",{children:["Created: ",n.created_at?new Date(n.created_at).toLocaleString():"—"]}),y.jsxs("div",{children:["Updated: ",n.updated_at?new Date(n.updated_at).toLocaleString():"—"]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[d.props?.canEdit?y.jsx(Y,{href:`/events/${n.id}/edit`,className:"btn",children:"Edit"}):null,!a&&!o&&y.jsxs("div",{className:"ml-auto text-sm",children:[y.jsx(Y,{href:"/login",className:"text-blue-600 mr-3",children:"Log in"}),y.jsx(Y,{href:"/register",className:"text-blue-600",children:"Sign up"})]})]}),d.props?.canEdit&&y.jsxs("form",{onSubmit:m,className:"mt-4",children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Organisers"}),y.jsx(Ht,{organisers:s,value:u.data.organiser_ids,onChange:r=>u.setData("organiser_ids",r)}),y.jsx("div",{className:"mt-2",children:y.jsx("button",{type:"submit",className:"btn-primary",disabled:u.processing,children:"Save organisers"})})]})]})]})]})}export{Cr as default};
