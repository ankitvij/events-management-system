import{c as oe,a as ce,u as de,j as s,H as me,L as re}from"./app-K_vB3ogy.js";import{A as ge}from"./app-layout-B_PQqLGg.js";import{P as ue}from"./public-header-CYf1KJqm.js";import{O as pe}from"./organiser-multi-select-QuIm4jsd.js";/* empty css            */import"./button-LQp4KWKv.js";import"./index-DyqWmFFX.js";import"./index-Bp4ylXgj.js";import"./index-BDqSilVs.js";function De(r){const e=oe.c(116),{event:t}=r;let I;e[0]===Symbol.for("react.memo_cache_sentinel")?(I={title:"Events",href:"/events"},e[0]=I):I=e[0];const B=`/events/${t.id}`;let M;e[1]!==t.title||e[2]!==B?(M=[I,{title:t.title,href:B}],e[1]=t.title,e[2]=B,e[3]=M):M=e[3];const G=M,z=ce(),i=z.props?.auth?.user,n=z.props?.showHomeHeader??!1;let R;e[4]!==z.props?.organisers?(R=z.props?.organisers??[],e[4]=z.props?.organisers,e[5]=R):R=e[5];const K=R;let l;e[6]!==t.organisers?(l=t.organisers?t.organisers.map(he):[],e[6]=t.organisers,e[7]=l):l=e[7];let J;e[8]!==l?(J={organiser_ids:l},e[8]=l,e[9]=J):J=e[9];const a=de(J);let T;e[10]!==t.id||e[11]!==a?(T=function(le){le.preventDefault(),a.put(`/events/${t.id}`,{forceFormData:!0})},e[10]=t.id,e[11]=a,e[12]=T):T=e[12];const Q=T;let o;e[13]!==t.title?(o=s.jsx("title",{children:t.title}),e[13]=t.title,e[14]=o):o=e[14];const V=t.description||"";let c;e[15]!==V?(c=s.jsx("meta",{name:"description",content:V}),e[15]=V,e[16]=c):c=e[16];let d;e[17]!==t.title?(d=s.jsx("meta",{property:"og:title",content:t.title}),e[17]=t.title,e[18]=d):d=e[18];const W=t.description||"";let m;e[19]!==W?(m=s.jsx("meta",{property:"og:description",content:W}),e[19]=W,e[20]=m):m=e[20];let g;e[21]!==t.image||e[22]!==t.image_thumbnail?(g=t.image||t.image_thumbnail?s.jsx("meta",{property:"og:image",content:t.image?`/storage/${t.image}`:`/storage/${t.image_thumbnail}`}):null,e[21]=t.image,e[22]=t.image_thumbnail,e[23]=g):g=e[23];let u;e[24]!==t.address||e[25]!==t.city||e[26]!==t.country||e[27]!==t.description||e[28]!==t.end_at||e[29]!==t.image||e[30]!==t.image_thumbnail||e[31]!==t.location||e[32]!==t.organisers||e[33]!==t.start_at||e[34]!==t.title?(u=JSON.stringify({"@context":"https://schema.org","@type":"Event",name:t.title||void 0,description:t.description||void 0,startDate:t.start_at||void 0,endDate:t.end_at||void 0,url:typeof window<"u"?window.location.href:void 0,image:t.image?`${window.location.origin}/storage/${t.image}`:t.image_thumbnail?`${window.location.origin}/storage/${t.image_thumbnail}`:void 0,location:{"@type":"Place",name:t.location||void 0,address:t.address||(t.city||t.country?`${t.city||""}${t.city&&t.country?", ":""}${t.country||""}`:void 0)},organizer:t.organisers?t.organisers.map(xe):void 0}),e[24]=t.address,e[25]=t.city,e[26]=t.country,e[27]=t.description,e[28]=t.end_at,e[29]=t.image,e[30]=t.image_thumbnail,e[31]=t.location,e[32]=t.organisers,e[33]=t.start_at,e[34]=t.title,e[35]=u):u=e[35];let p;e[36]!==u?(p=s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:u}}),e[36]=u,e[37]=p):p=e[37];let f;e[38]!==c||e[39]!==d||e[40]!==m||e[41]!==g||e[42]!==p||e[43]!==o?(f=s.jsxs(me,{children:[o,c,d,m,g,p]}),e[38]=c,e[39]=d,e[40]=m,e[41]=g,e[42]=p,e[43]=o,e[44]=f):f=e[44];let x;e[45]!==n?(x=n&&s.jsx(ue,{}),e[45]=n,e[46]=x):x=e[46];const X=n?"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8":"p-4",Y=t.image?`/storage/${t.image}`:t.image_thumbnail?`/storage/${t.image_thumbnail}`:"/images/default-event.svg";let U;e[47]!==t.title||e[48]!==Y?(U=s.jsx("div",{className:"mb-4",children:s.jsx("img",{src:Y,alt:t.title,className:"max-w-full h-auto rounded"})}),e[47]=t.title,e[48]=Y,e[49]=U):U=e[49];const Z=U;let h;e[50]!==t.title?(h=s.jsx("h1",{className:"text-2xl font-semibold",children:t.title}),e[50]=t.title,e[51]=h):h=e[51];const ee=t.city?` · ${t.city}`:"",te=t.country?`, ${t.country}`:"";let _;e[52]!==t.location||e[53]!==ee||e[54]!==te?(_=s.jsxs("div",{className:"text-sm text-muted",children:[t.location,ee,te]}),e[52]=t.location,e[53]=ee,e[54]=te,e[55]=_):_=e[55];let v;e[56]!==t.start_at?(v=t.start_at?`Starts: ${new Date(t.start_at).toLocaleString()}`:"Starts: —",e[56]=t.start_at,e[57]=v):v=e[57];let j;e[58]!==t.end_at?(j=t.end_at?` · Ends: ${new Date(t.end_at).toLocaleString()}`:"",e[58]=t.end_at,e[59]=j):j=e[59];let y;e[60]!==v||e[61]!==j?(y=s.jsxs("div",{className:"text-sm text-muted mt-2",children:[v,j]}),e[60]=v,e[61]=j,e[62]=y):y=e[62];const se=t.active?"Active":"Inactive";let b;e[63]!==se?(b=s.jsxs("div",{className:"text-sm text-muted mt-2",children:["Status: ",se]}),e[63]=se,e[64]=b):b=e[64];let N;e[65]!==t.organisers?(N=t.organisers&&t.organisers.length>0&&s.jsxs("div",{className:"text-sm text-muted mt-2",children:["Organisers: ",t.organisers.map(fe).join(", ")]}),e[65]=t.organisers,e[66]=N):N=e[66];let $;e[67]!==t.description?($=s.jsx("div",{className:"mt-4",children:t.description}),e[67]=t.description,e[68]=$):$=e[68];const ie=t.user?t.user.name??t.user.email:"—";let w;e[69]!==ie?(w=s.jsxs("div",{children:["Created by: ",ie]}),e[69]=ie,e[70]=w):w=e[70];let S;e[71]!==t.created_at?(S=t.created_at?new Date(t.created_at).toLocaleString():"—",e[71]=t.created_at,e[72]=S):S=e[72];let D;e[73]!==S?(D=s.jsxs("div",{children:["Created: ",S]}),e[73]=S,e[74]=D):D=e[74];let L;e[75]!==t.updated_at?(L=t.updated_at?new Date(t.updated_at).toLocaleString():"—",e[75]=t.updated_at,e[76]=L):L=e[76];let H;e[77]!==L?(H=s.jsxs("div",{children:["Updated: ",L]}),e[77]=L,e[78]=H):H=e[78];let O;e[79]!==w||e[80]!==D||e[81]!==H?(O=s.jsxs("div",{className:"mt-4 text-xs text-muted",children:[w,D,H]}),e[79]=w,e[80]=D,e[81]=H,e[82]=O):O=e[82];const ae=`/events/${t.id}/edit`;let E;e[83]!==ae?(E=s.jsx(re,{href:ae,className:"btn",children:"Edit"}),e[83]=ae,e[84]=E):E=e[84];let P;e[85]!==i||e[86]!==n?(P=!i&&!n&&s.jsxs("div",{className:"ml-auto text-sm",children:[s.jsx(re,{href:"/login",className:"text-blue-600 mr-3",children:"Log in"}),s.jsx(re,{href:"/register",className:"text-blue-600",children:"Sign up"})]}),e[85]=i,e[86]=n,e[87]=P):P=e[87];let A;e[88]!==E||e[89]!==P?(A=s.jsxs("div",{className:"flex items-center gap-3",children:[E,P]}),e[88]=E,e[89]=P,e[90]=A):A=e[90];let C;e[91]!==i||e[92]!==t.user||e[93]!==K||e[94]!==a||e[95]!==Q?(C=i&&(i.is_super_admin||t.user&&i.id===t.user.id)&&s.jsxs("form",{onSubmit:Q,className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Organisers"}),s.jsx(pe,{organisers:K,value:a.data.organiser_ids,onChange:ne=>a.setData("organiser_ids",ne)}),s.jsx("div",{className:"mt-2",children:s.jsx("button",{type:"submit",className:"btn-primary",disabled:a.processing,children:"Save organisers"})})]}),e[91]=i,e[92]=t.user,e[93]=K,e[94]=a,e[95]=Q,e[96]=C):C=e[96];let F;e[97]!==A||e[98]!==C?(F=s.jsxs("div",{className:"mt-6",children:[A,C]}),e[97]=A,e[98]=C,e[99]=F):F=e[99];let k;e[100]!==X||e[101]!==Z||e[102]!==h||e[103]!==_||e[104]!==y||e[105]!==b||e[106]!==N||e[107]!==$||e[108]!==O||e[109]!==F?(k=s.jsxs("div",{className:X,children:[Z,h,_,y,b,N,$,O,F]}),e[100]=X,e[101]=Z,e[102]=h,e[103]=_,e[104]=y,e[105]=b,e[106]=N,e[107]=$,e[108]=O,e[109]=F,e[110]=k):k=e[110];let q;return e[111]!==G||e[112]!==f||e[113]!==x||e[114]!==k?(q=s.jsxs(ge,{breadcrumbs:G,children:[f,x,k]}),e[111]=G,e[112]=f,e[113]=x,e[114]=k,e[115]=q):q=e[115],q}function fe(r){return r.name}function xe(r){return{"@type":"Organization",name:r.name}}function he(r){return r.id}export{De as default};
