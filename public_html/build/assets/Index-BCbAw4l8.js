import{c as K,a as O,r as U,j as s,L as S,b as q,H as Q}from"./app-K_vB3ogy.js";import{A as V}from"./app-layout-B_PQqLGg.js";import{L as X}from"./list-controls-DOK3v770.js";/* empty css            */import"./button-LQp4KWKv.js";import"./index-DyqWmFFX.js";import"./index-Bp4ylXgj.js";import"./index-BDqSilVs.js";const Y=[{title:"Customers",href:"/customers"}];function me(t){const e=K.c(46),{customers:l}=t;O();const _=typeof window<"u"?new URLSearchParams(window.location.search):null,D=_?.get("q")??"";U.useState(D),U.useRef(null),U.useRef(!0);let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=function(c,n){q.put(`/customers/${c}`,{active:n})},e[0]=w):w=e[0];const R=w;let L;e[1]===Symbol.for("react.memo_cache_sentinel")?(L=function(c){if(typeof window>"u")return;const n=new URLSearchParams(window.location.search),W=n.get("sort")??"";let y;W===`${c}_asc`?y=`${c}_desc`:W===`${c}_desc`?y="":y=`${c}_asc`,y===""?n.delete("sort"):n.set("sort",y),n.delete("page"),q.get(`/customers${n.toString()?`?${n.toString()}`:""}`)},e[1]=L):L=e[1];const k=L,E=V,P=Y;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(Q,{title:"Customers"}),e[2]=i):i=e[2];const z="p-4";let r;e[3]!==l.links?(r=s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(X,{path:"/customers",links:l.links,showSearch:!0,searchPlaceholder:"Search customers..."})}),e[3]=l.links,e[4]=r):r=e[4];let $;e[5]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(S,{href:"/customers/create",className:"btn-primary",children:"New Customer"}),e[5]=$):$=e[5];let m;e[6]!==r?(m=s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r,$]}),e[6]=r,e[7]=m):m=e[7];const B="hidden md:grid md:grid-cols-12 gap-4 mb-2 text-sm text-muted";let o;e[8]===Symbol.for("react.memo_cache_sentinel")?(o=()=>k("name"),e[8]=o):o=e[8];const F="md:col-span-6 text-left",T=_?.get("sort")==="name_asc"?"ascending":_?.get("sort")==="name_desc"?"descending":"none",G="Name",J="ml-1 text-xs",M=_?.get("sort")?.startsWith("name_")?_.get("sort")?.endsWith("_asc")?"▲":"▼":"";let d;e[9]!==M?(d=s.jsx("span",{className:J,children:M}),e[9]=M,e[10]=d):d=e[10];let x;e[11]!==o||e[12]!==T||e[13]!==d?(x=s.jsxs("button",{onClick:o,className:F,"aria-sort":T,children:[G,d]}),e[11]=o,e[12]=T,e[13]=d,e[14]=x):x=e[14];let C,A,H;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("div",{className:"md:col-span-4",children:"Email / Phone"}),A=s.jsx("div",{className:"md:col-span-1",children:"Active"}),H=s.jsx("div",{className:"md:col-span-1"}),e[15]=C,e[16]=A,e[17]=H):(C=e[15],A=e[16],H=e[17]);let h;e[18]!==x?(h=s.jsxs("div",{className:B,children:[x,C,A,H]}),e[18]=x,e[19]=h):h=e[19];let p;e[20]!==l.links?(p=l.links?.map(ee),e[20]=l.links,e[21]=p):p=e[21];let f;e[22]!==p?(f=s.jsx("div",{className:"mb-4",children:p}),e[22]=p,e[23]=f):f=e[23];let u;e[24]!==l.data||e[25]!==R?(u=l.data?.map(a=>s.jsx("div",{className:"border rounded p-3",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S,{href:`/customers/${a.id}`,className:"text-lg font-medium",children:a.name}),!a.active&&s.jsx("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-0.5 rounded",children:"Inactive"})]}),s.jsx("div",{className:"text-sm text-muted",children:a.email||a.phone})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("label",{className:"flex items-center mr-3",children:[s.jsx("input",{type:"checkbox",checked:!!a.active,onChange:c=>R(a.id,c.target.checked)}),s.jsx("span",{className:"ml-2 text-sm text-muted",children:"Active"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(S,{href:`/customers/${a.id}/edit`,className:"text-sm text-blue-600",children:"Edit"}),s.jsxs("form",{action:`/customers/${a.id}`,method:"post",className:"inline",children:[s.jsx("input",{type:"hidden",name:"_method",value:"delete"}),s.jsx("button",{className:"text-sm text-red-600",type:"submit",children:"Delete"})]})]})]})]})},a.id)),e[24]=l.data,e[25]=R,e[26]=u):u=e[26];let j;e[27]!==u?(j=s.jsx("div",{className:"grid gap-3",children:u}),e[27]=u,e[28]=j):j=e[28];let g;e[29]!==l.links?(g=l.links?.map(Z),e[29]=l.links,e[30]=g):g=e[30];let b;e[31]!==g?(b=s.jsx("div",{className:"mt-4",children:g}),e[31]=g,e[32]=b):b=e[32];let N;e[33]!==f||e[34]!==j||e[35]!==b?(N=s.jsxs("div",{children:[f,j,b]}),e[33]=f,e[34]=j,e[35]=b,e[36]=N):N=e[36];let v;e[37]!==h||e[38]!==N||e[39]!==m?(v=s.jsxs("div",{className:z,children:[m,h,N]}),e[37]=h,e[38]=N,e[39]=m,e[40]=v):v=e[40];let I;return e[41]!==E||e[42]!==v||e[43]!==P||e[44]!==i?(I=s.jsxs(E,{breadcrumbs:P,children:[i,v]}),e[41]=E,e[42]=v,e[43]=P,e[44]=i,e[45]=I):I=e[45],I}function Z(t){return t.url?s.jsx(S,{href:t.url,className:t.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:s.jsx("span",{dangerouslySetInnerHTML:{__html:t.label}})},t.label):s.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:t.label}},t.label)}function ee(t){return t.url?s.jsx(S,{href:t.url,className:t.active?"font-medium px-2":"text-muted px-2",as:"a",preserveScroll:!0,children:s.jsx("span",{dangerouslySetInnerHTML:{__html:t.label}})},t.label):s.jsx("span",{className:"px-2",dangerouslySetInnerHTML:{__html:t.label}},t.label)}export{me as default};
