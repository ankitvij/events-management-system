import{c as le,a as oe,u as ce,j as s,H as de,L as ae}from"./app-BrTzqn12.js";import{O as me}from"./organiser-multi-select-BhhlPpB4.js";import{A as ge}from"./app-layout-C3O6U_3I.js";/* empty css            */import"./button-Cwod5XeG.js";import"./index-CCZnWZy1.js";import"./index-0TeI-H6u.js";import"./index-BDqSilVs.js";function $e(r){const e=le.c(113),{event:t}=r;let z;e[0]===Symbol.for("react.memo_cache_sentinel")?(z={title:"Events",href:"/events"},e[0]=z):z=e[0];const q=`/events/${t.id}`;let I;e[1]!==t.title||e[2]!==q?(I=[z,{title:t.title,href:q}],e[1]=t.title,e[2]=q,e[3]=I):I=e[3];const B=I,k=oe(),i=k.props?.auth?.user,M=k.props?.showHomeHeader??!1;let P;e[4]!==k.props?.organisers?(P=k.props?.organisers??[],e[4]=k.props?.organisers,e[5]=P):P=e[5];const G=P;let n;e[6]!==t.organisers?(n=t.organisers?t.organisers.map(fe):[],e[6]=t.organisers,e[7]=n):n=e[7];let R;e[8]!==n?(R={organiser_ids:n},e[8]=n,e[9]=R):R=e[9];const a=ce(R);let J;e[10]!==t.id||e[11]!==a?(J=function(ne){ne.preventDefault(),a.put(`/events/${t.id}`,{forceFormData:!0})},e[10]=t.id,e[11]=a,e[12]=J):J=e[12];const K=J;let l;e[13]!==t.title?(l=s.jsx("title",{children:t.title}),e[13]=t.title,e[14]=l):l=e[14];const Q=t.description||"";let o;e[15]!==Q?(o=s.jsx("meta",{name:"description",content:Q}),e[15]=Q,e[16]=o):o=e[16];let c;e[17]!==t.title?(c=s.jsx("meta",{property:"og:title",content:t.title}),e[17]=t.title,e[18]=c):c=e[18];const V=t.description||"";let d;e[19]!==V?(d=s.jsx("meta",{property:"og:description",content:V}),e[19]=V,e[20]=d):d=e[20];let m;e[21]!==t.image||e[22]!==t.image_thumbnail?(m=t.image||t.image_thumbnail?s.jsx("meta",{property:"og:image",content:t.image?`/storage/${t.image}`:`/storage/${t.image_thumbnail}`}):null,e[21]=t.image,e[22]=t.image_thumbnail,e[23]=m):m=e[23];let g;e[24]!==t.address||e[25]!==t.city||e[26]!==t.country||e[27]!==t.description||e[28]!==t.end_at||e[29]!==t.image||e[30]!==t.image_thumbnail||e[31]!==t.location||e[32]!==t.organisers||e[33]!==t.start_at||e[34]!==t.title?(g=JSON.stringify({"@context":"https://schema.org","@type":"Event",name:t.title||void 0,description:t.description||void 0,startDate:t.start_at||void 0,endDate:t.end_at||void 0,url:typeof window<"u"?window.location.href:void 0,image:t.image?`${window.location.origin}/storage/${t.image}`:t.image_thumbnail?`${window.location.origin}/storage/${t.image_thumbnail}`:void 0,location:{"@type":"Place",name:t.location||void 0,address:t.address||(t.city||t.country?`${t.city||""}${t.city&&t.country?", ":""}${t.country||""}`:void 0)},organizer:t.organisers?t.organisers.map(pe):void 0}),e[24]=t.address,e[25]=t.city,e[26]=t.country,e[27]=t.description,e[28]=t.end_at,e[29]=t.image,e[30]=t.image_thumbnail,e[31]=t.location,e[32]=t.organisers,e[33]=t.start_at,e[34]=t.title,e[35]=g):g=e[35];let u;e[36]!==g?(u=s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:g}}),e[36]=g,e[37]=u):u=e[37];let p;e[38]!==o||e[39]!==c||e[40]!==d||e[41]!==m||e[42]!==u||e[43]!==l?(p=s.jsxs(de,{children:[l,o,c,d,m,u]}),e[38]=o,e[39]=c,e[40]=d,e[41]=m,e[42]=u,e[43]=l,e[44]=p):p=e[44];const W=M?"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8":"p-4",X=t.image?`/storage/${t.image}`:t.image_thumbnail?`/storage/${t.image_thumbnail}`:"/images/default-event.svg";let T;e[45]!==t.title||e[46]!==X?(T=s.jsx("div",{className:"mb-4",children:s.jsx("img",{src:X,alt:t.title,className:"max-w-full h-auto rounded"})}),e[45]=t.title,e[46]=X,e[47]=T):T=e[47];const Y=T;let f;e[48]!==t.title?(f=s.jsx("h1",{className:"text-2xl font-semibold",children:t.title}),e[48]=t.title,e[49]=f):f=e[49];const Z=t.city?` · ${t.city}`:"",ee=t.country?`, ${t.country}`:"";let x;e[50]!==t.location||e[51]!==Z||e[52]!==ee?(x=s.jsxs("div",{className:"text-sm text-muted",children:[t.location,Z,ee]}),e[50]=t.location,e[51]=Z,e[52]=ee,e[53]=x):x=e[53];let h;e[54]!==t.start_at?(h=t.start_at?`Starts: ${new Date(t.start_at).toLocaleString()}`:"Starts: —",e[54]=t.start_at,e[55]=h):h=e[55];let _;e[56]!==t.end_at?(_=t.end_at?` · Ends: ${new Date(t.end_at).toLocaleString()}`:"",e[56]=t.end_at,e[57]=_):_=e[57];let v;e[58]!==h||e[59]!==_?(v=s.jsxs("div",{className:"text-sm text-muted mt-2",children:[h,_]}),e[58]=h,e[59]=_,e[60]=v):v=e[60];const te=t.active?"Active":"Inactive";let j;e[61]!==te?(j=s.jsxs("div",{className:"text-sm text-muted mt-2",children:["Status: ",te]}),e[61]=te,e[62]=j):j=e[62];let y;e[63]!==t.organisers?(y=t.organisers&&t.organisers.length>0&&s.jsxs("div",{className:"text-sm text-muted mt-2",children:["Organisers: ",t.organisers.map(ue).join(", ")]}),e[63]=t.organisers,e[64]=y):y=e[64];let b;e[65]!==t.description?(b=s.jsx("div",{className:"mt-4",children:t.description}),e[65]=t.description,e[66]=b):b=e[66];const se=t.user?t.user.name??t.user.email:"—";let N;e[67]!==se?(N=s.jsxs("div",{children:["Created by: ",se]}),e[67]=se,e[68]=N):N=e[68];let $;e[69]!==t.created_at?($=t.created_at?new Date(t.created_at).toLocaleString():"—",e[69]=t.created_at,e[70]=$):$=e[70];let w;e[71]!==$?(w=s.jsxs("div",{children:["Created: ",$]}),e[71]=$,e[72]=w):w=e[72];let S;e[73]!==t.updated_at?(S=t.updated_at?new Date(t.updated_at).toLocaleString():"—",e[73]=t.updated_at,e[74]=S):S=e[74];let D;e[75]!==S?(D=s.jsxs("div",{children:["Updated: ",S]}),e[75]=S,e[76]=D):D=e[76];let L;e[77]!==N||e[78]!==w||e[79]!==D?(L=s.jsxs("div",{className:"mt-4 text-xs text-muted",children:[N,w,D]}),e[77]=N,e[78]=w,e[79]=D,e[80]=L):L=e[80];const ie=`/events/${t.id}/edit`;let O;e[81]!==ie?(O=s.jsx(ae,{href:ie,className:"btn",children:"Edit"}),e[81]=ie,e[82]=O):O=e[82];let H;e[83]!==i||e[84]!==M?(H=!i&&!M&&s.jsxs("div",{className:"ml-auto text-sm",children:[s.jsx(ae,{href:"/login",className:"text-blue-600 mr-3",children:"Log in"}),s.jsx(ae,{href:"/register",className:"text-blue-600",children:"Sign up"})]}),e[83]=i,e[84]=M,e[85]=H):H=e[85];let E;e[86]!==O||e[87]!==H?(E=s.jsxs("div",{className:"flex items-center gap-3",children:[O,H]}),e[86]=O,e[87]=H,e[88]=E):E=e[88];let A;e[89]!==i||e[90]!==t.user||e[91]!==G||e[92]!==a||e[93]!==K?(A=i&&(i.is_super_admin||t.user&&i.id===t.user.id)&&s.jsxs("form",{onSubmit:K,className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Organisers"}),s.jsx(me,{organisers:G,value:a.data.organiser_ids,onChange:re=>a.setData("organiser_ids",re)}),s.jsx("div",{className:"mt-2",children:s.jsx("button",{type:"submit",className:"btn-primary",disabled:a.processing,children:"Save organisers"})})]}),e[89]=i,e[90]=t.user,e[91]=G,e[92]=a,e[93]=K,e[94]=A):A=e[94];let C;e[95]!==E||e[96]!==A?(C=s.jsxs("div",{className:"mt-6",children:[E,A]}),e[95]=E,e[96]=A,e[97]=C):C=e[97];let F;e[98]!==W||e[99]!==Y||e[100]!==f||e[101]!==x||e[102]!==v||e[103]!==j||e[104]!==y||e[105]!==b||e[106]!==L||e[107]!==C?(F=s.jsxs("div",{className:W,children:[Y,f,x,v,j,y,b,L,C]}),e[98]=W,e[99]=Y,e[100]=f,e[101]=x,e[102]=v,e[103]=j,e[104]=y,e[105]=b,e[106]=L,e[107]=C,e[108]=F):F=e[108];let U;return e[109]!==B||e[110]!==p||e[111]!==F?(U=s.jsxs(ge,{breadcrumbs:B,children:[p,F]}),e[109]=B,e[110]=p,e[111]=F,e[112]=U):U=e[112],U}function ue(r){return r.name}function pe(r){return{"@type":"Organization",name:r.name}}function fe(r){return r.id}export{$e as default};
