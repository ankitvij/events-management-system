import{c as w,u as O,j as s,H as R}from"./app-BBhRT0BT.js";import{A as q}from"./app-layout-pbUr-j7-.js";/* empty css            */import"./button-DSSG-NsU.js";import"./index-D4P6CcNm.js";import"./index-gdzwEDWp.js";import"./index-BDqSilVs.js";function D(){const e=w.c(46),l=O();let j;e[0]!==l.props?.order?(j=l.props?.order??{},e[0]=l.props?.order,e[1]=j):j=e[1];const t=j;let a;e[2]!==t.id?(a=s.jsx(R,{children:s.jsxs("title",{children:["Order #",t.id]})}),e[2]=t.id,e[3]=a):a=e[3];let c;e[4]!==l.props?(c=l.props?.flash?.success&&s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"rounded-md bg-green-600 p-3 text-white",children:l.props.flash.success})}),e[4]=l.props,e[5]=c):c=e[5];let r;e[6]!==t.id?(r=s.jsxs("h1",{className:"text-xl font-semibold",children:["Order #",t.id]}),e[6]=t.id,e[7]=r):r=e[7];let d;e[8]!==t.created_at?(d=s.jsxs("div",{className:"mt-2 text-sm text-muted",children:["Placed: ",t.created_at]}),e[8]=t.created_at,e[9]=d):d=e[9];let n;e[10]!==t.booking_code?(n=t.booking_code&&s.jsxs("div",{className:"mt-2 text-sm",children:["Booking code: ",s.jsx("strong",{children:t.booking_code})]}),e[10]=t.booking_code,e[11]=n):n=e[11];let m;e[12]!==t.contact_email||e[13]!==t.user?.email?(m=(t.contact_email||t.user?.email)&&s.jsxs("div",{className:"mt-2 text-sm text-muted",children:["Confirmation sent to: ",s.jsx("strong",{children:t.contact_email??t.user?.email})]}),e[12]=t.contact_email,e[13]=t.user?.email,e[14]=m):m=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("div",{className:"font-medium",children:"Items"}),e[15]=v):v=e[15];let o;e[16]!==t.booking_code||e[17]!==t.contact_email||e[18]!==t.contact_name||e[19]!==t.id||e[20]!==t.items||e[21]!==t.user?.email||e[22]!==t.user?.name?(o=t.items?.map(i=>s.jsxs("div",{className:"flex items-center justify-between border p-2 rounded",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[i.event?.image_thumbnail_url&&s.jsx("img",{src:i.event.image_thumbnail_url,alt:i.event?.title,className:"w-20 h-14 object-cover rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:i.ticket?.name??"Item"}),s.jsx("div",{className:"text-sm text-muted",children:"Type"}),s.jsxs("div",{className:"text-sm text-muted",children:["Qty: ",i.quantity]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{children:["€",Number(i.price).toFixed(2)]}),s.jsx("div",{className:"mt-2",children:(()=>{const k=JSON.stringify({booking_code:t.booking_code,order_id:t.id,item_id:i.id,ticket_id:i.ticket_id,customer_name:t.contact_name??t.user?.name??null,customer_email:t.contact_email??t.user?.email??null,event:i.event?.title??null,start_at:i.event?.start_at??null,ticket_type:i.ticket?.name??null}),y=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(k)}`;return s.jsx("img",{src:y,alt:"QR",className:"w-16 h-16"})})()})]})]},i.id)),e[16]=t.booking_code,e[17]=t.contact_email,e[18]=t.contact_name,e[19]=t.id,e[20]=t.items,e[21]=t.user?.email,e[22]=t.user?.name,e[23]=o):o=e[23];let x;e[24]!==o?(x=s.jsxs("div",{className:"mt-4",children:[v,s.jsx("div",{className:"mt-2 space-y-2",children:o})]}),e[24]=o,e[25]=x):x=e[25];const N=Number(t.total??0);let u;e[26]!==N?(u=N.toFixed(2),e[26]=N,e[27]=u):u=e[27];let p;e[28]!==u?(p=s.jsxs("div",{className:"text-lg font-medium",children:["Total: €",u]}),e[28]=u,e[29]=p):p=e[29];const b=`/orders/${t.id}/receipt`;let h;e[30]!==b?(h=s.jsx("a",{href:b,className:"inline-flex items-center gap-2 rounded bg-blue-600 px-3 py-2 text-sm text-white",children:"Download receipt (PDF)"}),e[30]=b,e[31]=h):h=e[31];let f;e[32]!==p||e[33]!==h?(f=s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[p,h]}),e[32]=p,e[33]=h,e[34]=f):f=e[34];let _;e[35]!==f||e[36]!==r||e[37]!==d||e[38]!==n||e[39]!==m||e[40]!==x?(_=s.jsxs("div",{className:"p-4",children:[r,d,n,m,x,f]}),e[35]=f,e[36]=r,e[37]=d,e[38]=n,e[39]=m,e[40]=x,e[41]=_):_=e[41];let g;return e[42]!==a||e[43]!==_||e[44]!==c?(g=s.jsxs(q,{children:[a,c,_]}),e[42]=a,e[43]=_,e[44]=c,e[45]=g):g=e[45],g}export{D as default};
